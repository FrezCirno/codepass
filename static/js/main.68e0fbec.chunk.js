(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{136:function(e,t,a){e.exports=a.p+"static/media/logo2.05056f16.png"},267:function(e,t,a){e.exports=a.p+"static/media/back1.90daefdd.jpg"},280:function(e,t,a){e.exports=a(578)},414:function(e,t){},420:function(e,t,a){},488:function(e,t,a){e.exports=a.p+"static/media/error.91eee5a5.png"},489:function(e,t,a){},578:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"Detail",function(){return ke}),a.d(n,"User",function(){return rt}),a.d(n,"Home",function(){return we}),a.d(n,"List",function(){return De}),a.d(n,"My",function(){return Fe}),a.d(n,"Person",function(){return tt}),a.d(n,"Search",function(){return nt});var i={};a.r(i),a.d(i,"Home",function(){return ot}),a.d(i,"Answer",function(){return ct}),a.d(i,"Docker",function(){return ut}),a.d(i,"Question",function(){return dt}),a.d(i,"User",function(){return mt});var r={};a.r(r),a.d(r,"Playground",function(){return pt});var o=a(0),s=a.n(o),l=a(8),c=a.n(l);a(285),Boolean("0.0.0.0"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var u=a(10),d=a(9),m=a(12),p=a(11),h=a(13),f=a(36),g=a(89),y=a(26),E=a(597),b=function(e){return{type:"LOGINASUSER",user:e}},k=function(e){return{type:"LOGINASADMIN",admin:e}},j=function(){return{type:"LOGOUT"}},w=function(){return{type:"SHOWSIGNIN"}},v=function(){return{type:"SHOWSIGNUP"}},O=function(){return{type:"CANCELMODAL"}},C=function(e){return{type:"SETONCANCEL",onCancel:e}},x=function(e){return{type:"SETKEYWORD",keyword:e}},S=a(74),I=a(32),N=a(591),A=a(195),q=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).host="http://katty.top",a.port=8e3,a.ip=a.host+":"+a.port,a.post=function(e,t,n,i,r){var o=localStorage.getItem("token");return fetch(a.ip+e,{method:"POST",mode:"cors",body:t,credentials:"include",headers:Object(I.a)({},o?{Authorization:"Bearer ".concat(o)}:{})}).then(function(e){return e.json()}).catch(function(e){console.log(e)}).then(function(e){a.handleResult(e,n,i,r)}).catch(function(e){console.error(e)})},a.get=function(e,t){a.getWithErrorAction(e,t,function(e){console.log(e.message),a.pushNotification("warning",e.message)},function(){console.log("error")})},a.delete=function(e,t){var n=localStorage.getItem("token"),i=function(e){console.log(e.message),a.pushNotification("warning",e.message)},r=function(){console.log("error")};return fetch(a.ip+e,{method:"DELETE",mode:"cors",credentials:"include",headers:Object(I.a)({},n?{Authorization:"Bearer ".concat(n)}:{})}).then(function(e){return e.json()}).catch(function(e){console.log(e)}).then(function(e){a.handleResult(e,t,i,r)})},a.getWithErrorAction=function(e,t,n,i){var r=localStorage.getItem("token");return fetch(a.ip+e,{method:"GET",mode:"cors",credentials:"include",headers:Object(I.a)({},r?{Authorization:"Bearer ".concat(r)}:{})}).then(function(e){return e.json()}).catch(function(e){console.log(e)}).then(function(e){a.handleResult(e,t,n,i)})},a.handleResult=function(e,t,n,i){if(!e)return i&&i(),void a.pushNotification("warning","\u7f51\u7edc\u9519\u8bef");null!==e.status?(401===e.status&&(a.pushNotification("warning","\u767b\u5f55\u8fc7\u671f, \u8bf7\u91cd\u65b0\u767b\u5f55"),localStorage.clear()),t&&t(e)):n&&n(e)},a.fromNow=function(e){return A(e).fromNow()},a.handleChange=function(e){return function(t){a.setState(Object(S.a)({},e,t.target.value))}},a.handleDate=function(e,t){if(e){var a=(e+="").substring(5,7)+"\u6708"+e.substring(8,10)+"\u65e5";return 1===t?a+="\uff08\u4eca\u5929\uff09":2===t&&(a+="\uff08\u660e\u5929\uff09"),a}},a.handleTime=function(e){if(e)return(e+="").substring(11,16)},a.pushNotification=function(e,t){N.a.config({placement:"topRight",top:80,duration:4}),"warning"===e?N.a.warning({message:t,description:"\u8bf7\u6c42\u5931\u8d25"}):"success"===e?N.a.success({message:t,description:"\u8bf7\u6c42\u6210\u529f"}):N.a.open({message:t,description:"\u53d1\u751f\u4e86\u672a\u77e5\u9519\u8bef"})},a.scrollToView=function(e){if(e){var t=document.getElementById(e);t&&t.scrollIntoView({behavior:"smooth",block:"start"})}},a.state={token:null},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"timeout",value:function(e){return new Promise(function(t,a){setTimeout(t,e,"done")})}},{key:"hasErrors",value:function(e){return Object.keys(e).some(function(t){return e[t]})}},{key:"sleep",value:function(e){for(var t=(new Date).getTime();(new Date).getTime()-t<e;);}},{key:"loadStorage",value:function(e){return localStorage.getItem(e)}}]),t}(o.Component),T=a(107),R=a(56),z=a(605),D=a(276),L=a(47),B=a(609),U=a(594),V=a(14),W=a(592),M=a(98),P=a.n(M),_=a(330),H=function(e){function t(){return Object(u.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return null===this.props.desp?null:s.a.createElement(_,{source:this.props.desp,escapeHtml:!1,renderers:{paragraph:function(e){return s.a.createElement("p",Object.assign({},e,{style:{marginBottom:5}}))}}})}}]),t}(q),F=a(606),G=a(611),J=a(253),K=(a(420),z.a.Paragraph),Q=F.a.Panel,X=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).handleCopy=function(e){P()(e+"")?a.pushNotification("success","Docker-"+e+" has been copied. Please open it in VS Code"):a.pushNotification("warning","Copy Failed")},a.renderDiff=function(e){var t=J.Diff2Html.getPrettyHtml(e,{inputFormat:"diff",showFiles:!0,matching:"lines",outputFormat:"side-by-side"});return t=t.replace(/href/g,"file"),s.a.createElement("div",{dangerouslySetInnerHTML:{__html:t}})},a.state={desp:1},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"renderUser",value:function(e,t){return s.a.createElement(T.a,{type:"flex",style:{width:"100%"}},s.a.createElement(T.a,{type:"flex",align:"middle",justify:"start"},s.a.createElement(W.a,{shape:"square",style:{marginRight:8,fontSize:25},size:44},e.toUpperCase())),s.a.createElement(R.a,{span:18,style:{padding:2}},s.a.createElement(T.a,{type:"flex",align:"middle",justify:"start",style:{width:"80%",fontSize:16}},e),s.a.createElement(T.a,{type:"flex",align:"middle",justify:"start",style:{width:"80%",fontSize:14}},t)))}},{key:"render",value:function(){var e=this.props.data,t=e.content,a=e.diff,n=e.time,i=e.answerer;return s.a.createElement(G.a,{style:{marginBottom:15}},s.a.createElement(T.a,{style:{width:"100%"}},this.renderUser(i.username,n)),s.a.createElement(K,{style:{fontSize:22}},s.a.createElement(H,{desp:t})),s.a.createElement(F.a,{defaultActiveKey:["1"]},s.a.createElement(Q,{header:"Show me the code",key:"1"},this.renderDiff(a))))}}]),t}(q),Y=Object(g.e)(X),$=a(102),Z=a(612),ee=a(593),te=a(602),ae=a(195),ne=a.n(ae),ie=D.a.TextArea,re=function(e){var t=e.comments;return s.a.createElement(Z.a,{dataSource:t,header:t.length+(t.length>1?"replies":"reply"),itemLayout:"horizontal",renderItem:function(e){return s.a.createElement(ee.a,Object.assign({avatar:s.a.createElement(W.a,null,e.commenter)},e))}})},oe=function(e){var t=e.onChange,a=e.onSubmit,n=e.submitting,i=e.value;return s.a.createElement("div",null,s.a.createElement(te.a.Item,null,s.a.createElement(ie,{rows:4,onChange:t,value:i})),s.a.createElement(te.a.Item,null,s.a.createElement(L.a,{htmlType:"submit",loading:n,onClick:a,type:"primary"},"\u6dfb\u52a0\u8bc4\u8bba")))},se=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).handleSubmit=function(){if(a.state.value){a.setState({submitting:!0});var e=new FormData;e.set("content",a.state.value),a.post("/api/comment/question/"+a.props.questionId,e,function(e){"ok"===e.status?(a.pushNotification("info","\u53d1\u9001\u6210\u529f"),a.setState({submitting:!1,value:"",comments:[{author:a.props.user.username,avatar:s.a.createElement(W.a,null,"this.props.user.username"),content:s.a.createElement("p",null,a.state.value),datetime:ne()().fromNow()}].concat(Object($.a)(a.state.comments))})):a.pushNotification("danger","\u53d1\u9001\u5931\u8d25")})}},a.handleChange=function(e){a.setState({value:e.target.value})},console.log("QComment"),console.log(e),a.state={questionId:0,user:0,comments:0,submitting:!1,value:""},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentWillMount",value:function(){this.setState({comments:this.props.comments.content,user:this.props.user,questionId:this.props.questionId})}},{key:"render",value:function(){var e=this.state,t=e.comments,a=e.submitting,n=e.value;return s.a.createElement("div",null,t.length>0?s.a.createElement(re,{comments:t}):s.a.createElement(R.a,null,"\u73b0\u5728\u8fd8\u6ca1\u6709\u4eba\u8bc4\u8bba..."),s.a.createElement(ee.a,{avatar:s.a.createElement(W.a,{icon:"user",alt:"Coder"}),content:s.a.createElement(oe,{onChange:this.handleChange,onSubmit:this.handleSubmit,submitting:a,value:n})}))}}]),t}(q),le=a(617),ce=z.a.Title,ue=z.a.Paragraph,de=D.a.TextArea,me=function(e){function t(e){var a;return Object(u.a)(this,t),console.log("QDetail"),console.log(e),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).onChangeDesp=function(e){var t=e.target.value,n=a.state.question;n.content=t,a.setState({question:n})},a.showComment=function(){a.setState({showComment:!0}),0===a.state.comments&&(a.setState({loading2:!0}),a.get("/api/comment/question/"+a.state.question.id,function(e){"ok"===e.status&&a.setState({comments:e.data,loading2:!1})}))},a.hideComment=function(){a.setState({showComment:!1})},a.renderTitle=function(e,t){var n=a.state.edit,i=a.state.question.raiseTime;return s.a.createElement(T.a,{type:"flex",justify:"start",align:"middle"},s.a.createElement(R.a,{span:18},s.a.createElement(R.a,{span:24},s.a.createElement(ce,{level:1,style:{fontWeight:600,marginTop:12,marginBottom:12}},e)),s.a.createElement(T.a,{type:"flex",justify:"start",align:"middle",style:{width:"100%"}},n?s.a.createElement(de,{style:{fontSize:18},onChange:a.onChangeDesp,placeholder:"(\u53ef\u9009) \u6dfb\u52a0\u95ee\u9898\u63cf\u8ff0",autosize:{minRows:2,maxRows:5}}):s.a.createElement(ue,{style:{fontSize:15,lineHeight:"25px",marginVertical:5}},s.a.createElement(H,{desp:t})))),s.a.createElement(R.a,{span:6},s.a.createElement(T.a,{type:"flex",justify:"start",align:"middle"},a.renderUser(a.state.question.questioner.username,i))),a.renderCheck(),s.a.createElement(R.a,{span:24},a.state.showComment?s.a.createElement(L.a,{onClick:a.hideComment},"\u6536\u8d77\u8bc4\u8bba"):s.a.createElement(L.a,{onClick:a.showComment},"\u8bc4\u8bba")),a.state.showComment?a.state.loading2?s.a.createElement(B.a,null):s.a.createElement(R.a,{span:24},s.a.createElement(se,{user:a.state.question.questioner,comments:a.state.comments,questionId:a.state.question.id})):null)},a.redirectDocker=function(e){window.open(a.ip+"/api/docker/"+e,"_blank").focus()},a.renderConfirm=function(){return a.state.submit?null:s.a.createElement(T.a,{type:"flex",justify:"start",align:"middle"},s.a.createElement(U.a,{style:{width:"100%",marginBottom:3}}),a.state.submit?null:s.a.createElement(T.a,{type:"flex",justify:"start",align:"middle",style:{width:"100%"}},s.a.createElement(z.a,{style:{fontSize:18}},"Docker-",a.state.question.dockerId," is running"),s.a.createElement(V.a,{type:"loading",style:{marginLeft:10}})),s.a.createElement(L.a,{style:{marginTop:10},size:"large",type:"primary",onClick:function(){return a.redirectDocker(a.state.question.dockerId)}},"\u8fdb\u5165Docker\u5bb9\u5668"),a.state.edit?s.a.createElement(L.a,{style:{marginTop:10,marginLeft:10},size:"large",type:"default",onClick:a.save},"\u4fdd\u5b58\u95ee\u9898\u63cf\u8ff0"):s.a.createElement(L.a,{style:{marginTop:10,marginLeft:10},size:"large",type:"default",onClick:function(){a.setState({edit:!0})}},"\u7f16\u8f91\u95ee\u9898\u63cf\u8ff0"),s.a.createElement(L.a,{style:{marginTop:10,marginLeft:10},size:"large",type:"warning",onClick:a.submit},"\u63d0\u4ea4\u95ee\u9898"))},a.renderAnswer=function(e){return s.a.createElement(Y,{data:e})},a.renderAnswers=function(){if(a.state.submit){var e=a.state.answers;return 0===e.length?s.a.createElement(T.a,{style:{marginTop:100},type:"flex",justify:"center"},s.a.createElement(ue,{style:{fontSize:24}},"Kept you waiting, huh?")):s.a.createElement(T.a,null,e.map(a.renderAnswer))}return s.a.createElement(T.a,{style:{marginTop:100},type:"flex",justify:"center"},s.a.createElement(ue,{style:{fontSize:24}},"Submit the question to make it visible online"))},a.renderCheck=function(){var e=a.state,t=e.likeCount,n=e.ulike;return t?n?s.a.createElement(T.a,{style:{width:"100%",marginLeft:5,fontSize:18}},s.a.createElement(le.a,{twoToneColor:"#cf1322",onClick:function(){return a.check(0)}}),"X",t):s.a.createElement(T.a,{style:{width:"100%",marginLeft:5,fontSize:18}},s.a.createElement(le.a,{twoToneColor:"#1890ff",onClick:function(){return a.check(1)}}),"X",t):s.a.createElement(T.a,{style:{width:"100%",marginLeft:5,fontSize:18}},"\u8be5\u95ee\u9898\u8fd8\u6ca1\u6709\u4eba\u70b9\u8d5e\u54e6\uff01",s.a.createElement(le.a,{twoToneColor:"#1890ff",onClick:function(){return a.check(1)}}))},a.check=function(e){1===e?a.post("/api/question/like/"+a.state.question.id,null,function(e){"ok"===e.status?(a.setState({ulike:!0,likeCount:a.state.likeCount+1}),a.pushNotification("success","\u70b9\u8d5e\u6210\u529f")):a.pushNotification("danger","\u70b9\u8d5e\u5931\u8d25")}):a.post("/api/question/unlike/"+a.state.question.id,null,function(e){"ok"===e.status?(a.setState({ulike:!1,likeCount:a.state.likeCount-1}),a.pushNotification("success","\u53d6\u6d88\u70b9\u8d5e\u6210\u529f")):a.pushNotification("danger","\u53d6\u6d88\u70b9\u8d5e\u5931\u8d25")})},a.save=function(){var e=a.state.question,t=e.id,n=e.title,i=e.content,r=new FormData;r.append("title",n),r.append("content",i),a.post("/api/question/save/"+t,r,function(e){"ok"===e.status?(a.pushNotification("success","\u95ee\u9898\u5df2\u4fdd\u5b58"),a.setState({edit:!1})):a.pushNotification("warning",JSON.stringify(e))},function(){a.pushNotification("warning","\u66f4\u65b0\u5931\u8d25")})},a.submit=function(){var e=a.state.question.id;a.post("/api/question/submit/"+e,new FormData,function(e){"ok"===e.status?(a.pushNotification("success","\u95ee\u9898\u5df2\u63d0\u4ea4"),a.setState({submit:!0,edit:!1})):a.pushNotification("warning",JSON.stringify(e))},function(){a.pushNotification("warning","\u63d0\u4ea4\u5931\u8d25")})},a.state={found:!1,question:0,answers:0,submit:!1,edit:!0,unlike:!1,likeCount:0,showComment:!1,loading2:!1,comments:0},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentWillMount",value:function(){this.state.question=this.props.question,this.state.answers=this.props.question.answer,this.state.submit=this.props.question.status,this.state.edit=!this.props.question.status,this.state.ulike=this.props.question.ulike,this.state.likeCount=this.props.question.likeCount}},{key:"renderUser",value:function(e,t){return s.a.createElement(T.a,{type:"flex",style:{width:"100%"}},s.a.createElement(T.a,{type:"flex",align:"middle",justify:"start"},s.a.createElement(W.a,{shape:"square",size:64,icon:"user"})),s.a.createElement(R.a,{span:18,style:{padding:2}},s.a.createElement(T.a,{type:"flex",align:"middle",justify:"start",style:{width:"80%",fontSize:20}},e),s.a.createElement(T.a,{type:"flex",align:"middle",justify:"start",style:{width:"80%",fontSize:16}},this.handleDate(t)+""+this.handleTime(t))))}},{key:"render",value:function(){var e=this.state.question,t=e.content,a=e.title,n=e.answer;return s.a.createElement(T.a,{style:pe.container},s.a.createElement(R.a,{lg:4,xs:1}),s.a.createElement(R.a,{lg:15,xs:22},this.renderTitle(a,t),this.renderConfirm(),s.a.createElement(T.a,{type:"flex",justify:"start",style:{marginTop:20}},s.a.createElement(U.a,null,s.a.createElement(ce,{level:3},n.length+" \u56de\u7b54"))),this.renderAnswers()),s.a.createElement(R.a,{lg:5,xs:1}))}}]),t}(q),pe={container:{marginTop:"50px"}},he=z.a.Title,fe=z.a.Paragraph,ge=D.a.TextArea,ye=function(e){function t(e){var a;return Object(u.a)(this,t),console.log("ADetail"),console.log(e),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).onChangeDesp=function(e){var t=e.target.value;a.setState({content:t})},a.showComment=function(){a.setState({showComment:!0}),0===a.state.comments&&(a.setState({loading2:!0}),a.get("/api/comment/question/"+a.state.question.id,function(e){"ok"===e.status&&a.setState({comments:e.data,loading2:!1})}))},a.hideComment=function(){a.setState({showComment:!1})},a.renderTitle=function(e,t,n,i){return s.a.createElement(T.a,{type:"flex",justify:"start",align:"middle"},s.a.createElement(R.a,{span:24},s.a.createElement(he,{level:1,style:{fontWeight:600,marginTop:12,marginBottom:12}},e)),s.a.createElement(R.a,{span:24},s.a.createElement(T.a,{type:"flex",justify:"start",align:"middle"},a.renderUser(n,i))),s.a.createElement(T.a,{type:"flex",justify:"start",align:"middle",style:{width:"100%"}},s.a.createElement(fe,{style:{fontSize:18,marginBottom:5}},s.a.createElement(H,{desp:t}))),a.renderCheck(),s.a.createElement(R.a,{span:24},a.state.showComment?s.a.createElement(L.a,{onClick:a.hideComment},"\u6536\u8d77\u8bc4\u8bba"):s.a.createElement(L.a,{onClick:a.showComment},"\u8bc4\u8bba")),a.state.showComment?a.state.loading2?s.a.createElement(B.a,null):s.a.createElement(R.a,{span:24},s.a.createElement(se,{user:a.state.question.questioner,comments:a.state.comments,questionId:a.state.question.id})):null)},a.renderAnswer=function(e){return e.answerer.username===a.loadStorage("user")&&0===e.status?(a.state.edit||a.setState({edit:!0,content:e.content,aid:e.id,time:e.answerTime,dockerId:e.dockerId}),null):s.a.createElement(Y,{data:e})},a.renderAnswers=function(e){return 0===e.length?s.a.createElement(T.a,{style:{marginTop:100},type:"flex",justify:"center"},s.a.createElement(fe,{style:{fontSize:24}},"\u53bb\u505a\u7b2c\u4e00\u4e2a\u82f1\u96c4\u5427\uff01")):s.a.createElement(T.a,null,e.map(a.renderAnswer))},a.renderCheck=function(){var e=a.state,t=e.likeCount,n=e.ulike;return console.log(n),console.log(t),t?n?s.a.createElement(T.a,{style:{width:"100%",marginLeft:5,fontSize:18}},s.a.createElement(le.a,{twoToneColor:"#cf1322",onClick:function(){return a.check(0)}}),"X",t):s.a.createElement(T.a,{style:{width:"100%",marginLeft:5,fontSize:18}},s.a.createElement(le.a,{twoToneColor:"#1890ff",onClick:function(){return a.check(1)}}),"X",t):s.a.createElement(T.a,{style:{width:"100%",marginLeft:5,fontSize:18}},"\u8be5\u95ee\u9898\u8fd8\u6ca1\u6709\u4eba\u70b9\u8d5e\u54e6\uff01",s.a.createElement(le.a,{twoToneColor:"#1890ff",onClick:function(){return a.check(1)}}))},a.follow=function(){a.post("/api/user/follow/"+a.state.question.questioner.id,null,function(e){"ok"===e.status&&a.setState({ufol:!1})})},a.check=function(e){1===e?a.post("/api/question/like/"+a.state.question.id,null,function(e){"ok"===e.status?(a.setState({ulike:!0,likeCount:a.state.likeCount+1}),a.pushNotification("success","\u70b9\u8d5e\u6210\u529f")):a.pushNotification("danger","\u70b9\u8d5e\u5931\u8d25")}):a.post("/api/question/unlike/"+a.state.question.id,null,function(e){"ok"===e.status?(a.setState({ulike:!1,likeCount:a.state.likeCount-1}),a.pushNotification("success","\u53d6\u6d88\u70b9\u8d5e\u6210\u529f")):a.pushNotification("danger","\u53d6\u6d88\u70b9\u8d5e\u5931\u8d25")})},a.unfollow=function(){a.post("/api/user/unfollow/"+a.state.question.questioner.id,null,function(e){"ok"===e.status&&a.setState({ufol:!1})})},a.offer=function(e){if(!a.loadStorage("user")||""===a.loadStorage("user"))return a.pushNotification("warning","\u8bf7\u5148\u767b\u5f55"),a.props.dispatch(w()),null;a.setState({loading:!0});a.post("/api/answer/create?questionId="+e,null,function(e){"ok"===e.status?(e=e.data,a.setState({edit:!0,loading:!1,dockerId:e.dockerId,aid:e.id}),a.pushNotification("success","Docker\u5bb9\u5668\u5df2\u7ecf\u88ab\u521b\u5efa")):a.pushNotification("warning",JSON.stringify(e))},function(){a.pushNotification("warning","\u8bf7\u6c42\u9519\u8bef")})},a.save=function(){if(null===a.state.content||""===a.state.content)return a.pushNotification("warning","Describe your solution, less or more"),Promise.reject();var e=a.state,t=e.aid,n=e.content,i=new FormData;return i.append("content",n),a.post("/api/answer/save/"+t,i,function(e){"ok"===e.status?a.pushNotification("success","\u66f4\u65b0\u6210\u529f"):a.pushNotification("warning",JSON.stringify(e))},function(){a.pushNotification("warning","\u66f4\u65b0\u5931\u8d25")})},a.submit=function(){if(null===a.state.desp||""===a.state.desp)return a.pushNotification("warning","\u8bf7\u6216\u591a\u6216\u5c11\u5730\u63cf\u8ff0\u4f60\u7684\u95ee\u9898"),null;var e=a.state.aid,t=function(e){"ok"===e.status?(a.pushNotification("success","\u63d0\u4ea4\u6210\u529f!"),a.setState({edit:!1,answers:[].concat(Object($.a)(a.state.answers),[e.data])})):a.pushNotification("warning",JSON.stringify(e))},n=function(){a.pushNotification("warning","\u63d0\u4ea4\u5931\u8d25")};a.save().then(function(){return a.post("/api/answer/submit/"+e,null,t,n)})},a.cancel=function(){a.delete("/api/answer/"+a.state.aid,function(e){"ok"==e.status?a.setState({edit:!1,content:"",dockerId:"",aid:""}):a.pushNotification("warning",JSON.stringify(e))})},a.redirectDocker=function(e){window.open(a.ip+"/api/docker/"+e,"_blank").focus()},a.state={found:!1,question:0,edit:!1,answers:0,content:"",dockerId:"",aid:"",time:"",loading:!1,showComment:!1,loading2:!1,comments:0,likeCount:0,ufol:0,ufollow:0,ulike:0},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentWillMount",value:function(){0===this.state.question&&this.setState({question:this.props.question,answers:this.props.question.answer,ulike:this.props.question.ulike,likeCount:this.props.question.likeCount})}},{key:"renderNew",value:function(){var e=this;return this.state.edit?s.a.createElement(T.a,{type:"flex",justify:"start",align:"middle",style:{marginTop:10,width:"100%"}},s.a.createElement(U.a,{style:{margin:0},direction:"left"},s.a.createElement(he,{level:4},"\u6211\u7684\u56de\u7b54")),s.a.createElement(T.a,{style:{width:"100%",marginLeft:5,fontSize:18}},"\u89e3\u51b3\u65b9\u6848\u7b80\u660e\u8bf4\u660e\uff1a"),s.a.createElement(ge,{onChange:this.onChangeDesp,defaultValue:this.state.desp,placeholder:"\u5fc5\u987b\u63cf\u8ff0\u4f60\u7684\u95ee\u9898",autosize:{minRows:2,maxRows:5}}),s.a.createElement(T.a,{style:{marginLeft:5,width:"100%",marginBottom:10},type:"flex"},s.a.createElement(T.a,{style:{width:"50%",fontSize:16}},"\u6700\u540e\u5bf9\u95ee\u9898\u7684\u590d\u5236\u88ab\u8986\u76d6\u3002"),s.a.createElement(T.a,{style:{width:"50%",fontSize:16},type:"flex",justify:"end"},this.state.time)),s.a.createElement(L.a,{size:"large",type:"primary",onClick:function(){return e.redirectDocker(e.state.dockerId)}},"\u8fdb\u5165Docker\u5bb9\u5668"),s.a.createElement(L.a,{style:{marginLeft:10},size:"large",type:"default",onClick:this.save},"\u66f4\u65b0\u63cf\u8ff0"),s.a.createElement(L.a,{style:{marginLeft:10},size:"large",type:"warning",onClick:this.submit},"\u63d0\u4ea4"),s.a.createElement(L.a,{style:{marginLeft:10},size:"large",type:"warning",onClick:this.cancel},"\u53d6\u6d88")):s.a.createElement(T.a,{type:"flex",justify:"start",align:"middle",style:{marginTop:10,width:"100%"}},s.a.createElement(U.a,{style:{marginBottom:10}}),s.a.createElement(T.a,{style:{width:"100%",marginLeft:5,fontSize:18}},"\u4f60\u8fd8\u6ca1\u6709\u63d0\u51fa\u60f3\u6cd5\u5462\uff01"),s.a.createElement(L.a,{loading:this.state.loading,size:"large",type:"primary",onClick:function(){return e.offer(e.state.question.id)}},"\u8bd5\u7740\u53bb\u89e3\u51b3\u95ee\u9898\u5427\uff01 >"))}},{key:"renderUser",value:function(e,t){return s.a.createElement(T.a,{type:"flex",style:{width:"100%"}},s.a.createElement(R.a,{type:"flex",align:"middle",justify:"start"},s.a.createElement(W.a,{shape:"square",style:{marginRight:8,fontSize:30},size:50},e)),s.a.createElement(R.a,{span:18,style:{padding:2}},s.a.createElement(T.a,{type:"flex",align:"middle",justify:"start",style:{width:"80%",fontSize:20}},s.a.createElement(R.a,null,e),this.state.ufol?s.a.createElement(L.a,{onClick:this.unfollow},"\u53d6\u6d88\u5173\u6ce8"):s.a.createElement(L.a,{onClick:this.follow},"\u5173\u6ce8")),s.a.createElement(T.a,{type:"flex",align:"middle",justify:"start",style:{width:"80%",fontSize:16}},this.handleDate(t)+" "+this.handleDate(t))))}},{key:"render",value:function(){var e=this.state.question,t=e.content,a=e.title,n=e.raiseTime,i=e.questioner;return s.a.createElement(T.a,{style:Ee.container},s.a.createElement(R.a,{lg:4,xs:1}),s.a.createElement(R.a,{lg:15,xs:22},this.renderTitle(a,t,i.username,n),s.a.createElement(T.a,{type:"flex",justify:"start",style:{marginTop:20}},s.a.createElement(U.a,null,s.a.createElement(he,{level:3},this.state.answers.length+" \u56de\u7b54"))),this.renderAnswers(this.state.answers),this.renderNew()),s.a.createElement(R.a,{lg:5,xs:1}))}}]),t}(q),Ee={container:{marginTop:"50px",paddingBottom:"50px"}},be=Object(y.b)(function(e){return{keyword:e.keywordReducer.keyword}})(ye),ke=function(e){function t(e){var a;return Object(u.a)(this,t),console.log("Detail"),console.log(e),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).state={question:0,found:!1},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentWillMount",value:function(){var e=this,t=this.props.location.state.id;console.log(t);0===this.state.question&&this.getWithErrorAction("/api/question/"+t,function(t){"ok"===t.status?e.setState({question:t.data,found:!0}):e.pushNotification("warning",JSON.stringify(t))},function(){e.pushNotification("warning","\u95ee\u9898\u6ca1\u627e\u5230\uff01")})}},{key:"render",value:function(){return this.state.found?this.props.location.state&&this.state.question&&this.state.question.questioner.username===this.loadStorage("user")?s.a.createElement(me,{question:this.state.question}):s.a.createElement(be,{question:this.state.question}):s.a.createElement(T.a,{style:je.container},s.a.createElement(R.a,{lg:6,xs:1}),s.a.createElement(R.a,{lg:6,xs:1}))}}]),t}(q),je={container:{marginTop:"50px"}},we=function(e){function t(){return Object(u.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return s.a.createElement(T.a,{style:ve.container},s.a.createElement(T.a,{type:"flex",justify:"center"}))}}]),t}(q),ve={container:{marginTop:"700px"}},Oe=a(595),Ce=a(616),xe={},Se=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(i)))).renderAvatar=function(){return null===a.props.user?null:(console.log(a.props.user),s.a.createElement(Oe.a,{size:"small",shape:"square",style:xe.avatar},a.props.user.toUpperCase()[0]))},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return null===this.props.user?null:(xe=Ne,this.props.small&&(xe=Ie),s.a.createElement(R.a,{style:xe.container},s.a.createElement(Ce.a,{style:xe.title2},this.props.user)))}}]),t}(q),Ie={container:{backgroundColor:"rgba(0,0,0,0)"},title1:{color:"black",fontSize:"18px"},title2:{color:"black",fontSize:"18px",marginLeft:5},avatar:{marginRight:20,width:25,height:25,borderRadius:2}},Ne={container:{backgroundColor:"rgba(0,0,0,0)"},title1:{color:"black",fontSize:"20px"},title2:{color:"black",fontSize:"22px"},avatar:{marginRight:20,width:30,height:30,borderRadius:2}},Ae=Object(g.e)(Se),qe=z.a.Title,Te=z.a.Paragraph,Re=function(e){function t(e){var a;return Object(u.a)(this,t),console.log("UCard"),console.log(e),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).renderTitle=function(e,t,n,i,r,o,l,c){return s.a.createElement(G.a,{style:{width:"100%",marginBottom:10},title:s.a.createElement(qe,{level:3},s.a.createElement("a",{onClick:function(){a.props.history.push({pathname:"/user/detail",state:{id:r,user:n,completed:!0}})}},e))},s.a.createElement(R.a,{span:2},s.a.createElement(W.a,{shape:"square"},n)),s.a.createElement(R.a,{span:5},s.a.createElement(Ae,{user:n})),s.a.createElement(R.a,{span:9}),s.a.createElement(R.a,{span:8},s.a.createElement(Te,{style:{fontSize:18,paddingTop:3,float:"right"}},a.handleDate(i)+" "+a.handleTime(i))),s.a.createElement(T.a,{type:"flex",justify:"start",align:"middle",style:{width:"100%"}},s.a.createElement(Te,{style:{fontSize:14,fontWeight:400,marginBottom:5}},s.a.createElement(H,{desp:"\u95ee\u9898\u63cf\u8ff0: "+t||!1}))),s.a.createElement(T.a,{type:"flex",justify:"start",align:"middle",style:{width:"100%"}},s.a.createElement(R.a,{span:4},o||0," \u70b9\u8d5e"),s.a.createElement(R.a,{span:4},l||0," \u5173\u6ce8"),s.a.createElement(R.a,{span:4},c||0," \u8bc4\u8bba"),s.a.createElement(R.a,{span:12})))},a.state={desp:1},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props.data,t=e.id,a=e.title,n=e.content,i=e.questioner,r=e.raiseTime,o=e.likeCount,s=e.collectCount,l=e.commentCount;return this.renderTitle(a,n,i.username,r,t,o,s,l)}}]),t}(q),ze=Object(g.e)(Re),De=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).renderUCards=function(){return s.a.createElement(T.a,{style:{fontSize:20,width:"100%"},type:"flex",justify:"center"},a.state.items.length?a.state.items.map(a.renderUCard):s.a.createElement(R.a,{span:24},"\u73b0\u5728\u8fd8\u6ca1\u6709\u95ee\u9898..."))},a.renderUCard=function(e,t){return e.questioner.username!==a.state.user&&0==e.status?null:s.a.createElement(ze,{data:e,key:t})},a.state={items:[],loading:!1,user:0},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentWillMount",value:function(){var e=this;this.setState({loading:!0,user:this.props.user}),this.getWithErrorAction("/api/question/listAll",function(t){"ok"===t.status?e.setState({items:t.data.content,loading:!1}):e.pushNotification("warning",JSON.stringify(t))},function(){e.pushNotification("warning","Connection Failed")})}},{key:"render",value:function(){return s.a.createElement(T.a,{style:Le.container},s.a.createElement(R.a,{lg:6,xs:1}),s.a.createElement(R.a,{lg:12,xs:22},s.a.createElement(T.a,{style:{fontWeight:"bold",fontSize:20}},"\u95ee\u9898\u5217\u8868"),s.a.createElement(U.a,{style:{marginTop:5}}),this.state.loading?s.a.createElement(R.a,{span:24},s.a.createElement(B.a,null),s.a.createElement(B.a,null),s.a.createElement(B.a,null),s.a.createElement(B.a,null)):this.renderUCards()),s.a.createElement(R.a,{lg:6,xs:1}))}}]),t}(q),Le={container:{marginTop:"50px"}},Be=a(200),Ue=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).renderTitle=function(e,t,n,i){return s.a.createElement(G.a,{style:{marginTop:8},bodyStyle:{paddingTop:12,paddingBottom:12,margin:0}},s.a.createElement(R.a,{span:12,style:{fontSize:18,paddingLeft:5,paddingTop:3}},s.a.createElement("a",{onClick:function(){a.props.history.push({pathname:"/user/detail",state:{id:i,user:n,completed:!0}})}},e),s.a.createElement(V.a,{type:"fire",style:{marginRight:5,marginLeft:5,fontSize:13}}),s.a.createElement("p",{style:{fontSize:13,display:"inline"}},null==t?0:t)),s.a.createElement(R.a,{span:12},s.a.createElement(R.a,{span:2,style:{marginLeft:140}},s.a.createElement(V.a,{type:"delete",style:{paddingTop:10},onClick:function(){return a.props.deleteQCard(a.props.index)}})),s.a.createElement(R.a,{span:6},a.renderStatus())))},a.renderStatus=function(){return"1"==a.props.data.status?s.a.createElement("p",{style:{fontStyle:"Italic",marginBottom:0,paddingTop:7}},a.handleDate(a.props.data.raiseTime)+" "+a.handleTime(a.props.data.raiseTime)):s.a.createElement("p",{style:{fontStyle:"Italic",marginBottom:0,paddingTop:7}},"\u5df2\u4fdd\u5b58")},a.state={},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props.data,t=e.id,a=e.title,n=e.likeCount,i=e.questioner;return console.log(this.props.data),this.renderTitle(a,n,i.username,t)}}]),t}(q),Ve=Object(g.e)(Ue),We=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).update=function(){a.pushNotification("",a.state.desp)},a.handleCopy=function(e){P()(e+"")?a.pushNotification("success","Docker-"+e+" has been copied. Please open it in VS Code"):a.pushNotification("warning","Copy Failed")},a.getDetail=function(e,t){a.props.history.push({pathname:"/user/detail",state:{id:e,user:t}})},a.renderStatus=function(){return"1"==a.props.data.status?s.a.createElement("p",{style:{fontStyle:"Italic",marginBottom:0}},a.handleDate(a.props.data.answerTime)+" "+a.handleTime(a.props.data.answerTime)):s.a.createElement("p",{style:{fontStyle:"Italic",marginBottom:0}},"\u5df2\u4fdd\u5b58")},a.state={},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentWillMount",value:function(){}},{key:"render",value:function(){var e=this,t=this.props.data,a=t.id,n=t.questioner,i=t.content,r=t.likeCount,o=t.questionTitle,l=n.username;return console.log(this.props.data,l),s.a.createElement(G.a,{style:{marginTop:8},bodyStyle:{paddingTop:12,paddingBottom:6,margin:0}},s.a.createElement(T.a,{style:{fontSize:14,marginBottom:5},type:"flex",justify:"start",align:"middle"},s.a.createElement("h2",{style:{fontWeight:600,marginBottom:0}},o),s.a.createElement(V.a,{type:"delete",style:{marginLeft:5,marginTop:3},onClick:function(){return e.props.deleteACard(e.props.index)}})),s.a.createElement(T.a,{type:"flex",justify:"start",align:"middle",style:{fontSize:16,width:"100%",marginTop:2,minHeight:25,textOverflow:"hidden"}},s.a.createElement("a",{onClick:function(){e.props.history.push({pathname:"/user/detail",state:{id:a,user:l,completed:!0}})}},i)),s.a.createElement(T.a,{style:{width:"100%",marginTop:6,marginBottom:6},type:"flex",justify:"start",align:"middle"},s.a.createElement(R.a,{span:2},s.a.createElement(V.a,{type:"fire",style:{marginRight:5,fontSize:13}}),r),s.a.createElement(R.a,{span:12},this.renderStatus())))}}]),t}(q),Me=Object(g.e)(We),Pe=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).state={},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return s.a.createElement(T.a,{style:_e.rows},s.a.createElement(R.a,{span:24,style:_e.rows},s.a.createElement(T.a,{type:"flex",justify:"center"},s.a.createElement("img",{alt:"",style:_e.pic,src:a(488)}))),s.a.createElement(R.a,{span:24,style:_e.rows},s.a.createElement(T.a,{type:"flex",justify:"center"},s.a.createElement(z.a,{style:_e.name},this.props.text))))}}]),t}(q),_e={container:{marginTop:"100px"},pic:{height:180,width:180},name:{textAlign:"start",fontSize:"24px",color:"black",fontFamily:"Georgia",margin:10}},He=Be.a.TabPane,Fe=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).deleteQCard=function(e){a.delete("/api/question/"+a.state.qdata[e].id,function(t){if("ok"==t.status){var n=a.state.qdata;n.splice(e,1),a.setState({qdata:n}),console.log(a.state.qdata)}else a.pushNotification("warning",JSON.stringify(t))})},a.deleteACard=function(e){a.delete("/api/answer/"+a.state.adata[e].id,function(t){if("ok"==t.status){var n=a.state.adata;n.splice(e,1),a.setState({adata:n}),console.log(a.state.adata)}else a.pushNotification("warning",JSON.stringify(t))})},a.renderQCard=function(e,t){return s.a.createElement(Ve,{data:e,key:t,index:t,deleteQCard:a.deleteQCard})},a.renderACard=function(e,t){return s.a.createElement(Me,{data:e,key:t,index:t,deleteACard:a.deleteACard})},a.state={qdata:[],adata:[],loading1:!1,loading2:!1},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentWillMount",value:function(){var e=this,t=function(t){e.pushNotification("warning","\u8fde\u63a5\u5931\u8d25")};this.setState({loading1:!0,loading2:!0}),this.getWithErrorAction("/api/question/listMy",function(t){"ok"===t.status?e.setState({qdata:t.data,loading1:!1}):e.pushNotification("warning",JSON.stringify(t))},t),this.getWithErrorAction("/api/answer/listMy",function(t){"ok"===t.status?e.setState({adata:t.data,loading2:!1}):e.pushNotification("warning",JSON.stringify(t))},t)}},{key:"render",value:function(){var e=this;return console.log(this.state.qdata,this.state.adata),this.loadStorage("user")&&""!==this.loadStorage("user")?s.a.createElement(T.a,{style:Ge.container},s.a.createElement(R.a,{lg:6,xs:1}),s.a.createElement(R.a,{lg:12,xs:22},s.a.createElement(Be.a,{defaultActiveKey:"1"},s.a.createElement(He,{tab:"\u95ee\u9898",key:"1"},this.state.loading1?s.a.createElement("div",null,s.a.createElement(B.a,null),s.a.createElement(B.a,null),s.a.createElement(B.a,null)):0===this.state.qdata.length?s.a.createElement(T.a,{style:Ge.container,type:"flex",justify:"center"},s.a.createElement(T.a,{style:{fontSize:22,marginTop:200}},s.a.createElement(R.a,{span:24},s.a.createElement(T.a,{type:"flex",justify:"center"},s.a.createElement(R.a,null,"\u73b0\u5728\u8fd8\u6ca1\u6709\u95ee\u9898...")),s.a.createElement(T.a,{type:"flex",justify:"center",style:{marginTop:1}},s.a.createElement(R.a,null,s.a.createElement("a",{onClick:function(){e.props.history.push({pathname:"/user/list"})}},"\u53bb\u53d1\u73b0\u9875\u770b\u770b")))))):this.state.qdata.map(this.renderQCard)),s.a.createElement(He,{tab:"\u56de\u7b54",key:"2"},this.state.loading2?s.a.createElement("div",null,s.a.createElement(B.a,null),s.a.createElement(B.a,null),s.a.createElement(B.a,null)):0===this.state.adata.length?s.a.createElement(T.a,{style:Ge.container,type:"flex",justify:"center"},s.a.createElement(T.a,{style:{fontSize:22,marginTop:200}},s.a.createElement(R.a,{span:24},s.a.createElement(T.a,{type:"flex",justify:"center"},s.a.createElement(R.a,null,"\u73b0\u5728\u8fd8\u6ca1\u6709\u56de\u7b54...")),s.a.createElement(T.a,{type:"flex",justify:"center",style:{marginTop:15}},s.a.createElement(R.a,null,s.a.createElement("a",{onClick:function(){e.state.banner.slickGoTo(1),e.props.history.push({pathname:"/user/list"})}},"\u53bb\u53d1\u73b0\u9875\u770b\u770b")))))):this.state.adata.map(this.renderACard)))),s.a.createElement(R.a,{lg:6,xs:1})):s.a.createElement(T.a,{type:"flex",justify:"center",style:{marginTop:200}},s.a.createElement(Pe,{text:"\u60a8\u8fd8\u6ca1\u6709\u767b\u5f55"}))}}]),t}(q),Ge={container:{marginTop:"50px",paddingBottom:"100px"}},Je=a(620),Ke=a(78),Qe=a(148),Xe=a(608),Ye=a(618),$e=a(619),Ze=(a(489),Ke.a.Option),et=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).modifyButtonClick=function(){a.setState({display_msg:!1})},a.cancelButtonClick=function(){a.setState({display_msg:!0})},a.inputChange=function(e){a.setState({save_btn_disabled:!1,input:e})},a.radioChecked=function(){for(var e=document.getElementById("radioGroup").children,t=0;t<e.length;t++)if(e[t].checked)return e[t].value},a.state={display_btn:!1,display_msg:!0,save_btn_disabled:!0,input:null},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return s.a.createElement(R.a,{className:"each-div"},s.a.createElement(R.a,{span:6,className:"title-div"},s.a.createElement("h3",{className:"title"},this.props.name)),this.state.display_msg?this.renderRow():this.renderModifyData())}},{key:"renderRow",value:function(){var e=this;return null===this.props.content?s.a.createElement(R.a,{className:"msg",span:18,onMouseOver:function(){return e.handleMouseOver()},onMouseOut:function(){return e.handleMouseOut()}},s.a.createElement("span",{className:"msg-text"},"\u672a\u77e5"),s.a.createElement(L.a,{type:"default",size:"default",className:"modify-btn",style:{display:this.state.display_btn?"inline-block":"none"},onClick:function(){return e.modifyButtonClick()}},s.a.createElement(Ye.a,null),s.a.createElement("span",{className:"change-text"},"\u6dfb\u52a0"))):s.a.createElement(R.a,{className:"msg",span:18,onMouseOver:function(){return e.handleMouseOver()},onMouseOut:function(){return e.handleMouseOut()}},s.a.createElement("span",{className:"msg-text"},this.props.content),s.a.createElement(L.a,{type:"default",size:"default",className:"modify-btn",style:{display:this.state.display_btn?"inline-block":"none"},onClick:function(){return e.modifyButtonClick()}},s.a.createElement($e.a,null),s.a.createElement("span",{className:"change-text"},"\u4fee\u6539")))}},{key:"handleMouseOver",value:function(){this.setState({display_btn:!0})}},{key:"handleMouseOut",value:function(){this.setState({display_btn:!1})}},{key:"renderModifyData",value:function(){var e=this;switch(this.props.name){case"\u6635\u79f0":return s.a.createElement(R.a,{span:18},s.a.createElement(D.a,{placeholder:this.props.content?this.props.content:"",style:{width:"50%"},onChange:function(t){e.inputChange(t.target.value)}}),s.a.createElement(L.a,{type:"primary",className:"operate-btn",disabled:!!this.state.save_btn_disabled,onClick:function(){return e.props.onChangeState({name:{name:"\u6635\u79f0",content:e.state.input},change:0})}},"\u4fdd\u5b58"),s.a.createElement(L.a,{onClick:function(){e.cancelButtonClick()},className:"operate-btn"},"\u53d6\u6d88"));case"\u6027\u522b":return s.a.createElement(R.a,{span:18},s.a.createElement(Qe.a.Group,{buttonStyle:"solid",onChange:function(t){return e.inputChange(t.target.value)}},s.a.createElement(Qe.a.Button,{value:"\u7537"},"\u7537"),s.a.createElement(Qe.a.Button,{value:"\u5973"},"\u5973")),s.a.createElement(L.a,{type:"primary",className:"operate-btn",onClick:function(){return e.props.onChangeState({gender:{name:"\u6027\u522b",content:e.state.input},change:1})}},"\u4fdd\u5b58"),s.a.createElement(L.a,{onClick:function(){e.cancelButtonClick()},className:"operate-btn"},"\u53d6\u6d88"));case"\u804c\u4e1a":return s.a.createElement(R.a,{span:18},s.a.createElement(D.a,{placeholder:this.props.content?this.props.content:"",style:{width:"50%"},onChange:function(t){e.inputChange(t.target.value)}}),s.a.createElement(L.a,{type:"primary",className:"operate-btn",disabled:!!this.state.save_btn_disabled,onClick:function(){return e.props.onChangeState({job:{name:"\u804c\u4e1a",content:e.state.input},change:2})}},"\u4fdd\u5b58"),s.a.createElement(L.a,{onClick:function(){e.cancelButtonClick()},className:"operate-btn"},"\u53d6\u6d88"));case"\u6240\u5728\u884c\u4e1a":return s.a.createElement(R.a,{span:18},s.a.createElement(Ke.a,{style:{width:"50%"},defaultValue:"\u9ad8\u65b0\u79d1\u6280",onChange:function(t){return e.inputChange(t)}},s.a.createElement(Ze,{value:"\u9ad8\u65b0\u79d1\u6280"},"\u9ad8\u65b0\u79d1\u6280"),s.a.createElement(Ze,{value:"\u4e92\u8054\u7f51"},"\u4e92\u8054\u7f51"),s.a.createElement(Ze,{value:"\u7535\u5b50\u5546\u52a1"},"\u7535\u5b50\u5546\u52a1"),s.a.createElement(Ze,{value:"\u7535\u5b50\u6e38\u620f"},"\u7535\u5b50\u6e38\u620f"),s.a.createElement(Ze,{value:"\u8ba1\u7b97\u673a"},"\u8ba1\u7b97\u673a"),s.a.createElement(Ze,{value:"\u51fa\u7248\u4e1a"},"\u51fa\u7248\u4e1a"),s.a.createElement(Ze,{value:"\u91d1\u878d"},"\u91d1\u878d"),s.a.createElement(Ze,{value:"\u94f6\u884c"},"\u94f6\u884c"),s.a.createElement(Ze,{value:"\u8d22\u52a1"},"\u8d22\u52a1"),s.a.createElement(Ze,{value:"\u9152\u5e97"},"\u9152\u5e97"),s.a.createElement(Ze,{value:"\u65c5\u6e38"},"\u65c5\u6e38"),s.a.createElement(Ze,{value:"\u5e7f\u544a"},"\u5e7f\u544a"),s.a.createElement(Ze,{value:"\u5236\u836f"},"\u5236\u836f"),s.a.createElement(Ze,{value:"\u4fe1\u606f\u4f20\u5a92"},"\u4fe1\u606f\u4f20\u5a92"),s.a.createElement(Ze,{value:"\u6559\u80b2"},"\u6559\u80b2"),s.a.createElement(Ze,{value:"\u4e2a\u4f53\u6237"},"\u4e2a\u4f53\u6237"),s.a.createElement(Ze,{value:"\u5316\u5de5\u4e1a"},"\u5316\u5de5\u4e1a")),s.a.createElement(L.a,{type:"primary",className:"operate-btn",onClick:function(){return e.props.onChangeState({tech:{name:"\u6240\u5728\u884c\u4e1a",content:e.state.input},change:3})}},"\u4fdd\u5b58"),s.a.createElement(L.a,{onClick:function(){e.cancelButtonClick()},className:"operate-btn"},"\u53d6\u6d88"));case"\u5e74\u9f84":return s.a.createElement(R.a,{span:18},s.a.createElement(Xe.a,{min:1,max:100,style:{width:"50%"},onChange:function(t){e.inputChange(t)}}),s.a.createElement(L.a,{type:"primary",className:"operate-btn",disabled:!!this.state.save_btn_disabled,onClick:function(){return e.props.onChangeState({age:{name:"\u5e74\u9f84",content:e.state.input},change:4})}},"\u4fdd\u5b58"),s.a.createElement(L.a,{onClick:function(){e.cancelButtonClick()},className:"operate-btn"},"\u53d6\u6d88"));default:return}}}]),t}(q),tt=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).onChangeState=function(e){a.setState(e,a.modifyState)},a.modifyState=function(){if(-1!=a.state.change){var e=Object.keys(a.state),t=Object.values(a.state),n=a.state.change;a.post("/api/user?"+e[n]+"="+t[n].content,null,function(e){console.log(e),"ok"===e.status?console.log(1):a.pushNotification("warning","\u66f4\u65b0\u5931\u8d25")})}},a.state={loading:!1,name:{name:"\u6635\u79f0",content:null},gender:{name:"\u6027\u522b",content:null},job:{name:"\u804c\u4e1a",content:null},tech:{name:"\u6240\u5728\u884c\u4e1a",content:null},age:{name:"\u5e74\u9f84",content:null},data:null,change:-1},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentWillMount",value:function(){var e=this;this.setState({loading:!0}),this.get("/api/user",function(t){console.log(t),"ok"===t.status?e.setState({name:{name:"\u6635\u79f0",content:t.data.username},gender:{name:"\u6027\u522b",content:t.data.gender},job:{name:"\u804c\u4e1a",content:t.data.job},tech:{name:"\u6240\u5728\u884c\u4e1a",content:t.data.tech},age:{name:"\u5e74\u9f84",content:t.data.age},loading:!1}):e.pushNotification("warning",JSON.stringify(t))})}},{key:"render",value:function(){return s.a.createElement(T.a,{style:{marginTop:"15px"}},s.a.createElement(R.a,{span:18,offset:3},s.a.createElement(U.a,{orientation:"left"},s.a.createElement("h2",{style:{fontWeight:600}},"\u4e2a\u4eba\u8d44\u6599"))),s.a.createElement(R.a,{span:16,offset:5},s.a.createElement(R.a,{span:6},s.a.createElement("div",null,s.a.createElement(W.a,{shape:"square",size:128},s.a.createElement(Je.a,{style:{fontSize:"128px",color:"#08c"}})))),s.a.createElement(R.a,{span:18,style:{position:"relative",top:"25px"}},this.state.loading?s.a.createElement(B.a,null):s.a.createElement(et,Object.assign({},this.state.name,{onChangeState:this.onChangeState})),s.a.createElement(U.a,null),this.state.loading?s.a.createElement(B.a,null):s.a.createElement(et,Object.assign({},this.state.gender,{onChangeState:this.onChangeState})),s.a.createElement(U.a,null),this.state.loading?s.a.createElement(B.a,null):s.a.createElement(et,Object.assign({},this.state.job,{onChangeState:this.onChangeState})),s.a.createElement(U.a,null),this.state.loading?s.a.createElement(B.a,null):s.a.createElement(et,Object.assign({},this.state.tech,{onChangeState:this.onChangeState})),s.a.createElement(U.a,null),this.state.loading?s.a.createElement(B.a,null):s.a.createElement(et,Object.assign({},this.state.age,{onChangeState:this.onChangeState})),s.a.createElement(U.a,null))))}}]),t}(q),at=null,nt=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).getResult=function(e){a.get("/api/question/search?keywords="+e,function(e){a.setState({loading:!1,data:e.data})})},a.renderItem=function(e){return s.a.createElement(ze,{data:e})},a.renderList=function(){return a.state.data.length>0?s.a.createElement(T.a,{type:"flex",justify:"center",style:{width:"100%"}},s.a.createElement(R.a,{lg:2,xs:1}),s.a.createElement(R.a,{lg:20,xs:22},a.state.data.map(a.renderItem)),s.a.createElement(R.a,{lg:2,xs:1})):a.state.loading?s.a.createElement(T.a,{type:"flex",justify:"center",style:{width:"100%"}},s.a.createElement(R.a,{span:18},s.a.createElement(B.a,{active:!0}))):s.a.createElement(Pe,{text:"No result found"})},a.props.location.state&&(at=a.props.location.state.keyword),a.state={loading:!0,data:[]},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentWillMount",value:function(){this.getResult(at)}},{key:"render",value:function(){return this.props.keyword&&(at!==this.props.keyword&&this.getResult(this.props.keyword),at=this.props.keyword),at?s.a.createElement(T.a,{style:it.container},s.a.createElement(T.a,{style:it.rows,id:"listStart",type:"flex",justify:"center"},s.a.createElement(R.a,{xs:22,sm:20,lg:17},s.a.createElement("h3",{style:it.titles},"\u641c\u7d22\u7ed3\u679c:"))),s.a.createElement(T.a,{style:it.rows,type:"flex",justify:"center"},s.a.createElement(R.a,{xs:24,sm:22,lg:20},this.renderList()))):s.a.createElement(T.a,{style:it.container},s.a.createElement(Pe,{text:"Access Failed. Please follow the instruction of the site."}))}}]),t}(q),it={container:{marginTop:"50px"},titles:{marginLeft:25,marginTop:10,fontSize:35,fontFamily:"Georgia"},rows:{marginBottom:30}},rt=function(e){function t(e){return Object(u.a)(this,t),Object(m.a)(this,Object(p.a)(t).call(this,e))}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return s.a.createElement(T.a,null)}}]),t}(q),ot=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).state={current:null,users:null,questions:null,answers:null},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentWillMount",value:function(){}},{key:"render",value:function(){return s.a.createElement(T.a,{style:{marginTop:20},type:"flex",align:"middle",justify:"center"},s.a.createElement(R.a,{span:18,offset:1}))}}]),t}(q),st=(Object(g.e)(ot),a(613)),lt=a(601),ct=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).columns=[{title:"Id",dataIndex:"id"},{title:"\u5185\u5bb9",dataIndex:"content"},{title:"\u56de\u7b54\u8005",dataIndex:"answerer.username"},{title:"\u65f6\u95f4",dataIndex:"answerTime",render:function(e){return a.handleDate(e)+a.handleTime(e)}},{title:"\u5bb9\u5668Id",dataIndex:"dockerId"},{title:"\u70b9\u8d5e\u6570",dataIndex:"likeCount"},{title:"\u8bc4\u8bba\u6570",dataIndex:"commentCount"},{title:"\u6536\u85cf\u6570",dataIndex:"collectCount"},{title:"\u72b6\u6001",dataIndex:"status",render:function(e){return s.a.createElement(st.a,{color:e?"gray":"green"},e?"\u5df2\u53d1\u5e03":"\u7f16\u8f91\u4e2d")}},{title:"\u64cd\u4f5c",dataIndex:"x",render:function(e,t){return s.a.createElement(L.a,{onClick:function(){return a.del(t.id)}},"\u5220\u9664")}}],a.fetch=function(e){a.setState({loading:!0}),a.getWithErrorAction("/api/answer/listAll?page="+(e||0),function(e){if("ok"===e.status){var t=e.data;a.setState({loading:!1,data:t.content,pagination:{current:t.pageNumber,total:t.totalElements,onChange:function(e){return a.fetch(e-1)}}})}})},a.state={data:[],pagination:{},loading:!1},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"del",value:function(e){var t=this;this.delete("/api/answer/"+e,function(a){if("ok"===a.status){var n=t.state.data.map(function(e){return e.id}).indexOf(e);t.state.data.splice(n,1),t.setState({data:t.state.data})}})}}]),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.fetch()}},{key:"render",value:function(){return s.a.createElement(lt.a,{rowKey:"id",columns:this.columns,dataSource:this.state.data,pagination:this.state.pagination,loading:this.state.loading,onChange:this.handleTableChange})}}]),t}(q),ut=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).columns=[{title:"Id",dataIndex:"id"},{title:"\u7aef\u53e3\u53f7",dataIndex:"port",render:function(e){return e?s.a.createElement("a",{href:a.host+":"+e},e):"-"}},{title:"\u5bc6\u7801",dataIndex:"password"},{title:"\u72b6\u6001",dataIndex:"status",render:function(e){return s.a.createElement(st.a,{color:e?"green":"gray"},e?"\u8fd0\u884c\u4e2d":"\u672a\u8fd0\u884c")}},{title:"\u64cd\u4f5c",dataIndex:"",key:"x",render:function(e,t,n){return 0===t.status?s.a.createElement(L.a,{loading:a.state.bloading[n],type:"primary",onClick:function(){return a.startDocker(t.id,n)}},"\u542f\u52a8"):s.a.createElement(L.a,{loading:a.state.bloading[n],onClick:function(){return a.stopDocker(t.id,n)},type:"danger"},"\u5173\u95ed")}}],a.fetch=function(e){a.setState({loading:!0}),a.getWithErrorAction("/api/docker/listAll?page="+(e||0),function(e){if("ok"===e.status){var t=e.data,n=t.content.map(function(e){return!1});a.setState({loading:!1,data:t.content,pagination:{current:t.pageNumber,total:t.totalElements,onChange:function(e){return a.fetch(e-1)}},bloading:n})}})},a.state={data:[],pagination:{},loading:!1,bloading:[]},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"startDocker",value:function(e,t){var a=this;if(e){var n=this.state.bloading;n[t]=!0,this.setState({bloading:n}),this.post("/api/docker/start/"+e,null,function(e){if("ok"===e.status){var n=a.state,i=n.bloading,r=n.data;i[t]=!1,r[t].port=e.data.port,r[t].status=e.data.status,r[t].password=e.data.password,a.setState({bloading:i,data:r})}})}}},{key:"stopDocker",value:function(e,t){var a=this;if(e){var n=this.state.bloading;n[t]=!0,this.setState({bloading:n}),this.delete("/api/docker/"+e,function(e){if("ok"===e.status){var n=a.state,i=n.bloading,r=n.data;i[t]=!1,r[t].port=0,r[t].status=0,r[t].password="",a.setState({bloading:i,data:r})}})}}}]),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.fetch()}},{key:"render",value:function(){return s.a.createElement(lt.a,{rowKey:"id",columns:this.columns,dataSource:this.state.data,pagination:this.state.pagination,loading:this.state.loading,onChange:this.handleTableChange})}}]),t}(q),dt=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).columns=[{title:"Id",dataIndex:"id"},{title:"\u6807\u9898",dataIndex:"title"},{title:"\u5185\u5bb9",dataIndex:"content"},{title:"\u63d0\u95ee\u8005",dataIndex:"questioner.username"},{title:"\u65f6\u95f4",dataIndex:"raiseTime",render:function(e){return a.handleDate(e)+a.handleTime(e)}},{title:"\u5bb9\u5668Id",dataIndex:"dockerId"},{title:"\u70b9\u8d5e\u6570",dataIndex:"likeCount"},{title:"\u8bc4\u8bba\u6570",dataIndex:"commentCount"},{title:"\u6536\u85cf\u6570",dataIndex:"collectCount"},{title:"\u72b6\u6001",dataIndex:"status",render:function(e){return s.a.createElement(st.a,{color:e?"gray":"green"},e?"\u5df2\u53d1\u5e03":"\u7f16\u8f91\u4e2d")}},{title:"\u64cd\u4f5c",dataIndex:"x",render:function(e,t){return s.a.createElement(L.a,{onClick:function(){return a.del(t.id)}},"\u5220\u9664")}}],a.fetch=function(e){a.setState({loading:!0}),a.getWithErrorAction("/api/question/listAll?page="+(e||0),function(e){if("ok"===e.status){var t=e.data;a.setState({loading:!1,data:t.content,pagination:{current:t.pageNumber,total:t.totalElements,onChange:function(e){return a.fetch(e-1)}}})}})},a.state={data:[],pagination:{},loading:!1},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"del",value:function(e){var t=this;this.delete("/api/question/"+e,function(a){if("ok"===a.status){var n=t.state.data.map(function(e){return e.id}).indexOf(e);t.state.data.splice(n,1),t.setState({data:t.state.data})}})}}]),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.fetch()}},{key:"render",value:function(){return s.a.createElement(lt.a,{rowKey:"id",columns:this.columns,dataSource:this.state.data,pagination:this.state.pagination,loading:this.state.loading,onChange:this.handleTableChange})}}]),t}(q),mt=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).columns=[{title:"Id",dataIndex:"id"},{title:"\u7528\u6237\u540d",dataIndex:"username"},{title:"\u6027\u522b",dataIndex:"gender"},{title:"\u5de5\u4f5c",dataIndex:"job"},{title:"\u6240\u5728\u884c\u4e1a",dataIndex:"job"},{title:"\u5e74\u9f84",dataIndex:"age"},{title:"\u7c89\u4e1d\u6570",dataIndex:"followerCount"},{title:"\u64cd\u4f5c",dataIndex:"x",render:function(e,t){return s.a.createElement(L.a,{onClick:function(){return a.del(t.id)}},"\u5220\u9664")}}],a.fetch=function(){a.setState({loading:!0}),a.getWithErrorAction("/api/user/listAll",function(e){if("ok"===e.status){var t=e.data;a.setState({loading:!1,data:t.content,pagination:{current:t.pageNumber,total:t.totalElements,onChange:function(e){return a.fetch(e-1)}}})}})},a.state={data:[],pagination:{},loading:!1},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"del",value:function(e){var t=this;this.delete("/api/user/"+e,function(a){if("ok"===a.status){var n=t.state.data.map(function(e){return e.id}).indexOf(e);t.state.data.splice(n,1),t.setState({data:t.state.data})}})}}]),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.fetch()}},{key:"render",value:function(){return s.a.createElement(lt.a,{rowKey:"id",columns:this.columns,dataSource:this.state.data,pagination:this.state.pagination,loading:this.state.loading,onChange:this.handleTableChange})}}]),t}(q),pt=function(e){function t(){return Object(u.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(T.a,null,"Hello"),s.a.createElement(T.a,null,s.a.createElement(R.a,null,"Hello")),s.a.createElement(T.a,null,s.a.createElement(R.a,null,"Hello")))}}]),t}(q),ht=a(615),ft=a(266),gt=function(e){var t=e.component,a=e.user_redux,n=e.admin_redux,i=e.sales_redux,r=(e.location,e.history),o=e.dispatch,l=e.path,c=e.role,u=e.auth,d=Object(ft.a)(e,["component","user_redux","admin_redux","sales_redux","location","history","dispatch","path","role","auth"]),m=function(e){e&&e.id||r.replace("/user/home"),o(O())},p=!1;switch(c){case 0:p=a;break;case 1:p=n;break;case 2:p=i}return s.a.createElement(g.b,Object.assign({},d,{path:l,render:function(e){return p||!u?s.a.createElement(t,null):(a="warning",n="\u8bf7\u5148\u767b\u5f55\u518d\u8fdb\u884c\u64cd\u4f5c",N.a.config({placement:"topRight",top:80,duration:4}),"warning"===a?N.a.warning({message:n,description:"\u8bf7\u6c42\u5931\u8d25"}):"success"===a?N.a.success({message:n,description:"\u8bf7\u6c42\u6210\u529f"}):N.a.open({message:n,description:""}),r.push({pathname:"/user/home"}),o(w()),o(C(m)),null);var a,n}}))};gt.defaultProps={user:null,role:0};var yt=Object(y.b)(function(e){return{user_redux:e.identityReducer.user,admin_redux:e.identityReducer.admin,sales_redux:e.identityReducer.sales}})(Object(g.e)(gt)),Et=a(599),bt=a(201),kt=a(598),jt=a(153),wt=a(28),vt=a(614),Ot=D.a.TextArea,Ct=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).request=function(){if(a.setState({optVis:!1}),!a.loadStorage("user")||""===a.loadStorage("user"))return a.pushNotification("warning","\u8bf7\u5148\u767b\u5f55"),a.props.dispatch(w()),null;var e=a.state.title;if(""===e)return a.pushNotification("warning","\u6807\u9898\u4e0d\u80fd\u4e3a\u7a7a"),null;a.setState({loading:!0});var t=new FormData;t.append("title",e);a.post("/api/question/create",t,function(e){"ok"===e.status?(e=e.data,a.setState({loading:!1,dockerId:e.dockerId,qid:e.id}),a.pushNotification("success","Docker\u5bb9\u5668\u73b0\u5728\u521b\u5efa\u597d\u4e86!"),a.timeout(600).then(function(){return a.setState({loading2:!1})})):a.pushNotification("warning",JSON.stringify(e))},function(e){a.pushNotification("warning","\u8bf7\u6c42\u5931\u8d25")})},a.redirectDocker=function(){window.open(a.ip+"/api/docker/"+a.state.dockerId,"_blank").focus()},a.submit=function(){console.log(a.state);var e=a.state,t=e.qid,n=e.title,i=e.desp,r=a.loadStorage("user"),o=new FormData;o.append("title",n),o.append("content",i);a.post("/api/question/save/"+t,o,function(e){"ok"===e.status?(a.setState({loading:!1,dockerId:e.dockerId,qid:e.qid}),a.pushNotification("success","\u95ee\u9898\u5df2\u7ecf\u4fdd\u5b58"),a.timeout(600).then(function(){return a.props.history.push({pathname:"/user/detail",state:{id:t,user:r,completed:!1}})})):a.pushNotification("warning",JSON.stringify(e))},function(e){a.pushNotification("warning","\u63d0\u4ea4\u5931\u8d25")}).then(function(){a.post("/api/question/submit/"+t)})},a.renderDocker=function(){var e=a.state.dockerId,t={width:"100%",opacity:.9,fontFamily:"Georgia",fontSize:18};return""!==e?a.state.loading2?s.a.createElement(G.a,{style:t},s.a.createElement(B.a,{active:!0})):s.a.createElement(G.a,{style:t},s.a.createElement(D.a,{style:{marginBottom:3,fontWeight:"bold"},defaultValue:a.state.title,onChange:function(e){return a.onChangeTitle(e,!1)}}),s.a.createElement(Ot,{addonBefore:"\u63cf\u8ff0\u60a8\u7684\u95ee\u9898",onChange:a.onChangeDesp,placeholder:"\u8bf7\u5728\u8fd9\u91cc\u9644\u4e0a\u66f4\u591a\u95ee\u9898\u63cf\u8ff0\u4ee5\u5e2e\u52a9\u60a8\u7684\u95ee\u9898\u6536\u83b7\u66f4\u5408\u9002\u56de\u7b54",autosize:{minRows:2,maxRows:5}}),s.a.createElement(T.a,{style:{width:"100%",fontSize:14,marginTop:7},type:"flex",justify:"end"},"Docker\u5bb9\u5668-",e,"\u5df2\u7ecf\u88ab\u5efa\u7acb\u597d\u4e86\uff01"),s.a.createElement(T.a,{style:{width:"100%"},type:"flex",justify:"end"},s.a.createElement(L.a,{style:{marginTop:5},size:"large",type:"primary",onClick:a.redirectDocker},"\u73b0\u5728\u6253\u5f00\u60a8\u7684Docker\u5bb9\u5668\u6765\u7ed9\u6211\u4eec\u5c55\u793a\u4f60\u7684\u4ee3\u7801\u5427\uff01")),s.a.createElement(T.a,{style:{width:"100%"},type:"flex",justify:"end"},s.a.createElement(L.a,{style:{marginTop:5},size:"large",type:"link",onClick:a.submit},"\u8fdb\u5165\u95ee\u9898\u8be6\u60c5\u9875"))):null},a.onChangeTitle=function(e,t){a.setState({title:e}),t&&(""===e?a.setState({optVis:!1}):(a.setState({optVis:!0}),a.get("/api/question/search?keywords="+e,function(e){"ok"===e.status&&a.setState({optData:e.data})})))},a.onChangeDesp=function(e){var t=e.target.value;a.setState({desp:t})},a.renderInput=function(){var e={};return e=a.state.isEnter?{width:"100%",opacity:.8,fontFamily:"Georgia",fontSize:18}:{width:"100%",opacity:.4,fontFamily:"Georgia",fontSize:18},s.a.createElement(vt.a,{size:"large",style:e,onChange:function(e){return a.onChangeTitle(e,!0)},disabled:""!==a.state.dockerId,placeholder:"\u63cf\u8ff0\u60a8\u9047\u5230\u7684\u95ee\u9898"},s.a.createElement(D.a,{suffix:s.a.createElement(L.a,{className:"search-btn",style:{marginRight:-12},size:"large",type:"link",loading:a.state.loading,onClick:a.request,disabled:""!==a.state.dockerId},"\u63d0\u95ee")}))},a.state={isEnter:!1,title:"",desp:"",loading:!1,loading2:!0,caption:"Submit",dockerId:"",qid:0,optData:[{title:"CodePass \u4f7f\u7528\u6307\u5357",content:"CodePass \u4f7f\u7528\u6307\u5357"},{title:"Hello world",content:"\u6d4b\u8bd5\u63d0\u95ee"}],optVis:!1},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"timeout",value:function(e){return new Promise(function(t,a){setTimeout(t,e,"done")})}},{key:"renderOpt",value:function(){var e=this;if(this.state.optVis)return console.log(this.state.optData),s.a.createElement("div",null,s.a.createElement("span",{style:{fontSize:22}},"\u60a8\u53ef\u80fd\u60f3\u95ee:"),s.a.createElement(Z.a,{bordered:!0,itemLayout:"horizontal",dataSource:this.state.optData,renderItem:function(t){return s.a.createElement(Z.a.Item,null,s.a.createElement(Z.a.Item.Meta,{title:s.a.createElement("a",{title:"\u8bf7\u6d4f\u89c8\u95ee\u9898\u7684\u7ec6\u8282",style:{color:"white",fontSize:22},onClick:function(){var a=e.loadStorage("user"),n=t.id;e.props.history.push({pathname:"/user/detail",state:{id:n,tx:a,completed:!0}})}},t.title),description:s.a.createElement("span",{style:{color:"white"}},t.description)}))}}))}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{onClick:function(){return e.setState({isEnter:!0})}},this.renderInput(),this.renderOpt(),this.renderDocker())}}]),t}(q),xt=Object(y.b)(function(e){return{keyword:e.keywordReducer.keyword}})(Object(g.e)(Ct)),St=(a(531),a(267)),It=a.n(St),Nt=jt.a.BgElement,At=0,qt=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(i)))).renderButton=function(e){var t=e.icon,a=e.text,n=e.onClick,i=e.href;return s.a.createElement(L.a,{type:"primary",style:Tt.button,icon:t,size:"large",onClick:n,href:i,ghost:!0},a)},a.renderGradient=function(){if(0===a.props.index)return s.a.createElement(wt.b,{animation:{y:30,opacity:0,type:"from"},style:Tt.gradient},s.a.createElement("div",{style:{height:"300px",backgroundImage:"linear-gradient(rgba(0,0,0,0),rgba(255,255,255,1))"}}))},a.renderElement=function(){return At++,s.a.createElement(jt.a,{style:Tt.element,key:At+"",prefixCls:"banner-user-elem",followParallax:{delay:500,data:[{id:"bg"+At,value:20,bgPosition:"50%",type:["backgroundPositionX"]}]}},a.renderGradient(),s.a.createElement(Nt,{key:"bg"+At,style:Object(I.a)({},{backgroundImage:"url(".concat(It.a,")")},Tt.bg),id:"bg"+At}),s.a.createElement(wt.b,{animation:{y:30,opacity:0,type:"from"},id:"title",style:Tt.title2},"Welcome to"),s.a.createElement(wt.b,{animation:{y:30,opacity:0,type:"from"},id:"title",style:Tt.title},"CodePass"),s.a.createElement(wt.b,{animation:{y:30,opacity:0,type:"from",delay:100},id:"title2",style:Tt.title2},"\u57fa\u4e8e Docker \u548c Code-Server \u7684\u4ee3\u7801\u95ee\u7b54\u793e\u533a"),s.a.createElement(wt.b,{animation:{y:30,opacity:0,type:"from",delay:300},id:"title2",style:Tt.title2},s.a.createElement(U.a,{style:{width:"50%"}})),s.a.createElement(wt.b,{animation:{y:30,opacity:0,type:"from",delay:300},id:"title2",style:Tt.title2},"\u9047\u5230\u65b0\u95ee\u9898?"),s.a.createElement(wt.b,{animation:{y:50,opacity:0,type:"from",delay:300},id:"bar",style:Tt.bar},s.a.createElement(xt,null)))},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement(jt.b,{ref:function(t){e.props.getBanner(t)},type:"vertical",style:{height:"800px"},arrow:!1,dragPlay:!1,autoPlay:!0,autoPlaySpeed:5e3},this.renderElement())}}]),t}(q),Tt={element:{textAlign:"start",color:"white",position:"relative"},gradient:{position:"absolute",top:"700px",height:"100px",left:0,right:0,zIndex:5},bg:{position:"absolute",top:0,left:-100,right:-100,backgroundSize:"cover",backgroundPosition:"center",height:"800px"},title:{fontSize:"45px",top:"15%",left:"20%",fontFamily:"Georgia"},title2:{fontSize:"27px",top:"15%",left:"20%",fontFamily:"Georgia",width:"50%"},bar:{zIndex:6,top:"15%",width:"50%",left:"20%"}},Rt=qt,zt=vt.a.Option,Dt=0,Lt=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).search=function(){var e=a.state.name;a.props.dispatch(x(e)),e&&""!==e?(a.props.history.push({pathname:"/user/",state:{keyword:e}}),a.timeout(1).then(function(){return a.props.history.push({pathname:"/user/search",state:{keyword:e}})})):a.pushNotification("warning","\u5173\u952e\u8bcd\u4e0d\u80fd\u4e3a\u7a7a\u3002")},a.fetchAutoComplete=function(e){if(0!==e.length){a.get("/api/question/searchRecommend?keywords="+e+"&limits=5",function(e){var t=e.data;console.log(t),a.setState({dataSource:t})})}},a.autoOnChange=function(e){var t=e.split(",")[0];a.setState({name:e}),a.timer&&clearTimeout(a.timer),a.timeout(500).then(function(){a.fetchAutoComplete(t)})},a.renderSearch=function(){var e={};return e=a.state.isEnter?{width:"100%",opacity:1,fontFamily:"Georgia"}:{width:"100%",opacity:.4,fontFamily:"Georgia"},s.a.createElement(vt.a,{size:"large",style:e,defaultActiveFirstOption:!1,dataSource:a.state.dataSource.map(function(e){var t=e+","+(Dt+=1);return s.a.createElement(zt,{key:t},e)}),onChange:a.autoOnChange,placeholder:"\u8bf7\u8f93\u5165\u4f60\u8981\u641c\u7d22\u7684\u95ee\u9898\u5173\u952e\u8bcd"},s.a.createElement(D.a.Search,{size:"large",onSearch:a.search}))},a.state={isEnter:!1,dataSource:[],name:""},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{onClick:function(){return e.setState({isEnter:!0})}},this.renderSearch())}}]),t}(q),Bt=Object(g.e)(Object(y.b)(function(e){return{keyword:e.keywordReducer.keyword}})(Lt)),Ut=a(596),Vt=a(604),Wt=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).handleClose=function(e){return function(){a.setState(Object(S.a)({},e,null))}},a.signOut=function(){a.props.dispatch(j())},a.personalData=function(){a.props.history.push("/user/person")},a.collections=function(){a.props.history.push("/user/collect")},a.state={},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return s.a.createElement(Ut.a,{component:"nav"},s.a.createElement(Vt.a,{button:!0,onClick:this.personalData},s.a.createElement(Ce.a,null,"\u4e2a\u4eba\u8d44\u6599")),s.a.createElement(Vt.a,{button:!0,onClick:this.collections},s.a.createElement(Ce.a,null,"\u6536\u85cf\u5939")),s.a.createElement(Vt.a,{button:!0,onClick:this.signOut},s.a.createElement(Ce.a,null,"\u6ce8\u9500")))}}]),t}(q),Mt=Object(g.e)(Object(y.b)(function(e){return{user:e.identityReducer.user,admin:e.identityReducer.admin}})(Wt)),Pt=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(i)))).handleClose=function(e){return function(){a.setState(Object(S.a)({},e,null))}},a.renderAvatar=function(){var e=a.props,t=e.user,n=e.admin;return null===t&&null===n?null:s.a.createElement(Oe.a,{style:_t.avatar},(t||n||"Coder").toUpperCase()[0])},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.user,a=e.admin;return null===t&&null===a?null:s.a.createElement(T.a,{type:"flex",align:"middle",justify:"center",style:_t.container},this.renderAvatar(),s.a.createElement(Ce.a,{style:_t.title1},"Welcome,"),s.a.createElement(Ce.a,{style:_t.title2},this.props.user||this.props.admin||"Coder"))}}]),t}(q),_t={container:{backgroundColor:"rgba(0,0,0,0)"},title1:{color:"white",fontSize:"20px"},title2:{color:"white",fontSize:"22px",marginLeft:5},avatar:{marginRight:20}},Ht=Object(g.e)(Object(y.b)(function(e){return{user:e.identityReducer.user,admin:e.identityReducer.admin}})(Pt)),Ft=E.a.Header,Gt=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(m.a)(this,Object(p.a)(t).call(this,e))).handleClick=function(e){n.handlePath(),n.state.banner&&n.state.banner.slickGoTo(0),n.props.history.push(e.key+"")},n.handlePath=function(){var e=n.props.history.location.pathname;n.state.index="/user/home"===e||"/user"===e?0:"/user/list"===e?1:"/user/my"===e?2:-1},n.renderItems=function(e){return s.a.createElement(bt.b.Item,{key:e.key,style:{color:"#d8d8d8"}},s.a.createElement(V.a,{type:e.icon}),e.name)},n.renderMenu=function(){return s.a.createElement(R.a,{span:12},s.a.createElement(bt.b,{theme:"white",mode:"horizontal",style:Jt.menu,electedkeys:[n.state.index],onClick:n.handleClick},n.props.items.map(n.renderItems)))},n.signIn=function(){n.props.dispatch(w())},n.signUp=function(){n.props.dispatch(v())},n.renderUser=function(){if(null===n.props.user&&null===n.props.admin)return s.a.createElement(R.a,{span:12},s.a.createElement(T.a,{type:"flex",justify:"end",align:"middle",style:{marginRight:"40px"}},s.a.createElement(L.a,{style:{color:"white"},type:"link",icon:"user",size:"large",onClick:n.signIn},"\u767b\u5f55"),s.a.createElement(L.a,{type:"primary",icon:"user-add",size:"large",onClick:n.signUp},"\u6ce8\u518c")));var e=s.a.createElement(Mt,null);return s.a.createElement(R.a,{span:12},s.a.createElement(T.a,{type:"flex",justify:"end",style:{marginRight:"40px"}},s.a.createElement(kt.a,{content:e},s.a.createElement(L.a,{style:{height:64,backgroundColor:"rgba(0,0,0,0)"},type:"link"},s.a.createElement(Ht,null)))))},n.renderLeftHeader=function(){return s.a.createElement(R.a,{xs:0,sm:0,lg:10},s.a.createElement(R.a,{sm:0,lg:10},s.a.createElement(T.a,{type:"flex",justify:"center"},s.a.createElement("img",{alt:"",style:Jt.logo,src:a(136)}))),s.a.createElement(R.a,{sm:12,lg:10},s.a.createElement(Bt,null)))},n.renderRightHeader=function(){return s.a.createElement(R.a,{xs:24,sm:24,lg:14},s.a.createElement(T.a,{type:"flex",justify:"end",align:"middle"},n.renderMenu(),n.renderUser()))},n.renderBanner=function(){if(n.handlePath(),0===n.state.index)return s.a.createElement(Rt,{getBanner:function(e){return n.state.banner=e},index:n.state.index})},n.handleStyle=function(){return n.handlePath(),Jt.paper_normal},n.state={isEnter:!1,index:0,bannerData:{},banner:null},n}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentWillMount",value:function(){this.handlePath()}},{key:"render",value:function(){console.log("baseheader");this.state.index;var e=this.handleStyle();return s.a.createElement(Ft,{style:Object(I.a)({},{backgroundColor:"white",padding:0})},s.a.createElement(T.a,null,this.renderBanner(),s.a.createElement(T.a,{span:24,style:Jt.header},s.a.createElement(Et.a,{elevation:6,style:e},s.a.createElement(T.a,{type:"flex",align:"middle"},this.renderLeftHeader(),this.renderRightHeader())))))}}]),t}(q),Jt={logo:{height:"64px",width:"192px"},header:{position:"absolute",top:"0px",right:"0px",left:"0px",zIndex:10},menu:{flex:1,fontSize:"20px",lineHeight:"64px",border:"0px",backgroundColor:"rgba(0,0,0,0)"},paper:{backgroundColor:"rgba(0,0,0,0.2)",borderRadius:0},paper_normal:{backgroundColor:"rgba(0,0,0,0.7)",borderRadius:0}},Kt=Object(g.e)(Object(y.b)(function(e){return{user:e.identityReducer.user,admin:e.identityReducer.admin,signInVisible:e.modalReducer.signInVisible,signUpVisible:e.modalReducer.signUpVisible}})(Gt)),Qt=a(607),Xt=a(600),Yt=a(603),$t=te.a.Item,Zt=(o.Component,{container:{width:"128px",height:"128px"}}),ea=te.a.Item,ta=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(i)))).state={},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"hasErrors",value:function(e){return Object.keys(e).some(function(t){return e[t]})}},{key:"render",value:function(){var e=this.props.form.getFieldsError;return s.a.createElement(ea,{style:{marginBottom:"10px"}},s.a.createElement(L.a,{type:"primary",htmlType:"submit",disabled:this.hasErrors(e()),style:this.props.style},this.props.label))}}]),t}(o.Component),aa=te.a.Item,na=Ke.a.Option,ia=(o.Component,te.a.Item),ra=function(e){function t(){return Object(u.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(d.a)(t,[{key:"renderInput",value:function(){return this.props.width?s.a.createElement(D.a,{style:{width:this.props.widthz},type:this.props.inputType,rows:this.props.rows,prefix:s.a.createElement(V.a,{type:this.props.icon})}):s.a.createElement(D.a,{size:"large",style:{width:"396px",height:"40px"},type:this.props.inputType,rows:this.props.rows,prefix:s.a.createElement(V.a,{type:this.props.icon})})}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.props.message;return s.a.createElement(ia,Object.assign({},{labelCol:{xs:{span:24},sm:{span:4}},wrapperCol:{xs:{span:24},sm:{span:14}}},{label:this.props.label}),e(this.props.name,{rules:[{type:this.props.type,message:""===t?"\u4e0d\u662f\u6709\u6548\u7684"+this.props.type:t},{required:this.props.required,message:""===t?"\u8bf7\u8f93\u5165\u60a8\u7684"+this.props.name1+" !":t}],initialValue:this.props.defaultValue})(s.a.createElement(D.a,{size:"large",style:{width:"349px"},type:this.props.inputType,rows:this.props.rows,prefix:s.a.createElement(V.a,{type:this.props.icon})})))}}]),t}(o.Component);ra.defaultProps={required:!1,rows:1,defaultValue:"",message:""};var oa=function(e){function t(){var e,n;Object(u.a)(this,t);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(n=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).handleSubmit=function(e){e.preventDefault(),n.props.form.validateFields(function(e,t){var a=t.usrname,i=t.pwd;if(""!==a)if(""!==i){var r=new FormData;r.append("username",a),r.append("password",i);n.post("/api/login",r,function(e){if("ok"===e.status){var t=e.data;localStorage.setItem("token",t.token),t.isAdmin?(n.props.dispatch(k(a)),n.pushNotification("success","\u6b22\u8fce\u7ba1\u7406\u5458"+a+"\u56de\u5230CodePass")):(n.props.dispatch(b(a)),n.pushNotification("success","\u6b22\u8fce"+a+"\u56de\u5230CodePass")),n.props.onCancel()}else n.pushNotification("warning","\u7528\u6237\u540d\u6216\u5bc6\u7801\u9519\u8bef")},function(e){n.pushNotification("warning","\u7528\u6237\u540d\u6216\u5bc6\u7801\u9519\u8bef")})}else n.pushNotification("warning","\u5bc6\u7801\u4e0d\u80fd\u4e3a\u7a7a",n.props.dispatch);else n.pushNotification("warning","\u7528\u6237\u540d\u4e0d\u80fd\u4e3a\u7a7a",n.props.dispatch)})},n.renderLogo=function(){return s.a.createElement(T.a,{type:"flex",justify:"center"},s.a.createElement("img",{alt:"",style:sa.logo,src:a(136)}))},n.renderContent=function(){return s.a.createElement(T.a,{type:"flex",justify:"center",align:"middle",style:{borderRadius:"20px"}},s.a.createElement(R.a,null,s.a.createElement(T.a,{style:sa.cardContainer,type:"flex",justify:"center"},s.a.createElement(T.a,{type:"flex",justify:"start",style:sa.welcome},"\u6b22\u8fce\u6765\u5230CodePass"),s.a.createElement(T.a,{type:"flex",justify:"start",style:sa.welcome2}),s.a.createElement(te.a,{onSubmit:n.handleSubmit,type:"flex",justify:"center"},s.a.createElement(T.a,{type:"flex",justify:"center"},s.a.createElement(T.a,{style:{width:"100%",marginLeft:"80px",color:"#AAAAAA",fontSize:15},type:"flex",justify:"start"},"\u8bf7\u8f93\u5165\u4f60\u7684\u7528\u6237\u540d:"),s.a.createElement(ra,{form:n.props.form,label:"",name:"usrname",required:!0,icon:"user",name1:"\u7528\u6237\u540d"}),s.a.createElement(T.a,{style:{width:"100%",marginLeft:"80px",color:"#AAAAAA",fontSize:15},type:"flex",justify:"start"},"\u8bf7\u8f93\u5165\u4f60\u7684\u5bc6\u7801:"),s.a.createElement(ra,{form:n.props.form,label:"",name:"pwd",required:!0,icon:"lock",inputType:"password",name1:"\u5bc6\u7801"}),s.a.createElement(ta,{form:n.props.form,label:"\u767b\u5f55",style:sa.button}),s.a.createElement(L.a,{style:sa.button2,onClick:n.props.onCancel},"\u53d6\u6d88"))),s.a.createElement(T.a,{type:"flex",justify:"center"},s.a.createElement(R.a,null,"\u8fd8\u6ca1\u6709\u8d26\u53f7? ",s.a.createElement(L.a,{onClick:n.props.switch,type:"link"},"\u70b9\u51fb\u8fd9\u91cc\u6ce8\u518c"))))))},n}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return s.a.createElement(T.a,null,this.renderLogo(),this.renderContent())}}]),t}(q),sa={logo:{height:"64px",width:"192px"},cardContainer:{width:"500px",marginTop:"10px"},button:{width:"300px",height:"40px"},button2:{width:"300px",height:"40px",color:"white",backgroundColor:"#CCCCCC",marginBottom:"20px"},welcome:{fontSize:25,width:"100%",marginLeft:"80px",marginRight:"10px",marginBottom:"3px"},welcome2:{fontSize:17,width:"100%",color:"#AAAAAA",marginLeft:"80px",marginRight:"10px",marginBottom:"10px"}},la=te.a.create()(Object(y.b)(function(e){return{user:e.identityReducer.user}})(Object(g.e)(oa))),ca=function(e){function t(){var e,n;Object(u.a)(this,t);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(n=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).handleSubmit=function(e){e.preventDefault(),n.props.form.validateFields(function(e,t){if(""!==t.username)if(""!==t.password)if(t.passwordAgain===t.password){e||(console.log("hey"),console.log("Received values of form: ",t));var a=new FormData;a.append("username",t.username),a.append("password",t.password);n.post("/api/register",a,function(e){n.props.switch(),n.pushNotification("success","\u6ce8\u518c\u6210\u529f\uff01\u73b0\u5728\u53ef\u4ee5\u767b\u5f55\u5566\uff01")},function(e){n.pushNotification("warning",e.message)})}else n.pushNotification("warning","\u4e24\u6b21\u8f93\u5165\u7684\u5bc6\u7801\u4e0d\u4e00\u81f4!",n.props.dispatch);else n.pushNotification("warning","\u5bc6\u7801\u662f\u7a7a\u7684!",n.props.dispatch);else n.pushNotification("warning","\u7528\u6237\u540d\u662f\u7a7a\u7684\uff01",n.props.dispatch)})},n.renderLogo=function(){return s.a.createElement(T.a,{type:"flex",justify:"center"},s.a.createElement("img",{alt:"",style:ua.logo,src:a(136)}))},n.renderContent=function(){return s.a.createElement(T.a,{type:"flex",justify:"center",align:"middle",style:{borderRadius:"20px"}},s.a.createElement(R.a,null,s.a.createElement(T.a,{style:ua.cardContainer},s.a.createElement("div",{style:ua.welcome},"\u6b22\u8fce\u6765\u5230CodePass"),s.a.createElement("div",{style:ua.welcome2}),s.a.createElement(te.a,{onSubmit:n.handleSubmit,type:"flex",justify:"center"},s.a.createElement(T.a,{style:{width:"100%"},type:"flex",justify:"center"},s.a.createElement(T.a,{style:{width:"100%",marginLeft:"80px",color:"#AAAAAA",fontSize:15},type:"flex",justify:"start"},"\u8bf7\u8f93\u5165\u4f60\u7684\u7528\u6237\u540d:"),s.a.createElement(ra,{form:n.props.form,name:"username",required:!0,icon:"user",name1:"\u7528\u6237\u540d"}),s.a.createElement(T.a,{style:{width:"100%",marginLeft:"80px",color:"#AAAAAA",fontSize:15},type:"flex",justify:"start"},"\u8bf7\u8f93\u5165\u4f60\u7684\u5bc6\u7801:"),s.a.createElement(ra,{form:n.props.form,style:{marginBottom:"10px"},name:"password",required:!0,icon:"lock",inputType:"password",name1:"\u5bc6\u7801"}),s.a.createElement(T.a,{style:{width:"100%",marginLeft:"80px",color:"#AAAAAA",fontSize:15},type:"flex",justify:"start"},"\u91cd\u590d\u4f60\u7684\u5bc6\u7801:"),s.a.createElement(ra,{form:n.props.form,name:"passwordAgain",required:!0,icon:"lock",inputType:"password",name1:"\u5bc6\u7801\u8fdb\u884c\u4e8c\u6b21\u786e\u8ba4"})),s.a.createElement(T.a,{type:"flex",justify:"center"},s.a.createElement(R.a,null,s.a.createElement(ta,{form:n.props.form,label:"\u6ce8\u518c",style:ua.button}),s.a.createElement(L.a,{style:ua.button2,onClick:n.props.onCancel},"\u53d6\u6d88")))),s.a.createElement(T.a,{type:"flex",justify:"center"},s.a.createElement(R.a,null,"\u5df2\u7ecf\u6709\u8d26\u53f7\u4e86?",s.a.createElement(L.a,{onClick:n.props.switch,type:"link"},"\u73b0\u5728\u767b\u5f55\u5427\uff01"))))))},n}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return s.a.createElement(T.a,null,this.renderLogo(),this.renderContent())}}]),t}(q),ua={logo:{height:"64px",width:"192px"},cardContainer:{width:"500px",marginTop:"10px"},button:{width:"350px",height:"40px"},button2:{width:"350px",height:"40px",color:"white",backgroundColor:"#CCCCCC",marginBottom:"20px"},welcome:{fontSize:25,marginLeft:"80px",marginRight:"10px",marginBottom:"3px"},welcome2:{fontSize:17,color:"#AAAAAA",marginLeft:"80px",marginRight:"10px",marginBottom:"10px"}},da=te.a.create()(Object(y.b)(function(e){return{user:e.identityReducer.user,admin:e.identityReducer.admin}})(Object(g.e)(ca))),ma=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(i)))).renderContent=function(e,t){return e?s.a.createElement(la,{onCancel:a.props.onCancel,switch:a.props.switch}):t?s.a.createElement(da,{onCancel:a.props.onCancel,switch:a.props.switch}):void 0},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.signInVisible,a=e.signUpVisible,n=a||t;return s.a.createElement(Qt.a,{title:null,visible:n,closable:!1,footer:null,destroyOnClose:!0},this.renderContent(t,a))}}]),t}(q),pa=Object(y.b)(function(e){return{signInVisible:e.modalReducer.signInVisible,signUpVisible:e.modalReducer.signUpVisible,onCancel:e.modalReducer.onCancel}})(Object(g.e)(ma)),ha=a(610),fa=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e)))._close=function(){a.setState({visible:!1})},a.state={visible:!1},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){this.props.closing?(this.state.visible=!1,this.props.dispatch({type:"RESETDRAWER"})):this.props.loading&&!this.state.visible&&(this.state.visible=!0,this.props.dispatch({type:"RESETDRAWER"}));var e="60%";return document.body.clientWidth>1e3&&(e="45%"),s.a.createElement(ha.a,{title:this.props.title,width:e,placement:"right",closable:!0,onClose:this._close,visible:this.state.visible,destroyOnClose:!0},this.props.content)}}]),t}(q),ga=Object(y.b)(function(e){return{title:e.drawerReducer.title,content:e.drawerReducer.content,loading:e.drawerReducer.loading,closing:e.drawerReducer.closing}})(fa),ya=E.a.Content,Ea=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).createRoutes=function(e,t){return e.map(function(e,a){return s.a.createElement(yt,{role:0,auth:e.auth,path:t+e.path,component:e.component,key:a})})},a.switch=function(){a.props.signInVisible?a.props.dispatch(v()):a.props.dispatch(w())},a.onCancel=function(){a.props.dispatch(O())},a.state={items:[{key:"/user/home",name:"\u9996\u9875",icon:"home"},{key:"/user/list",name:"\u53d1\u73b0",icon:"unordered-list"},{key:"/user/my",name:"\u6211\u7684\u95ee\u7b54",icon:"user"}]},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentWillMount",value:function(){this.props.dispatch(C(this.onCancel))}},{key:"render",value:function(){return s.a.createElement(E.a,null,s.a.createElement(ht.a,{visibilityHeight:200,style:{zIndex:10}}),s.a.createElement(Kt,{items:this.state.items}),s.a.createElement(ya,{style:{backgroundColor:"white"}},s.a.createElement(g.c,{history:this.props.history},this.createRoutes(Aa[0].children,Aa[0].path))),s.a.createElement(pa,{switch:this.switch}),s.a.createElement(ga,null))}}]),t}(q),ba=Object(y.b)(function(e){return{user:e.identityReducer.user,signInVisible:e.modalReducer.signInVisible,signUpVisible:e.modalReducer.signUpVisible}})(Object(g.e)(Ea)),ka=E.a.Header,ja=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).renderUser=function(){return console.log(a.props),a.props.admin?s.a.createElement(R.a,{span:12},s.a.createElement(T.a,{type:"flex",justify:"end",style:{marginRight:"40px"}},s.a.createElement(kt.a,{content:s.a.createElement(Mt,null)},s.a.createElement(L.a,{style:{height:64},type:"link"},s.a.createElement(Ht,null))))):s.a.createElement(R.a,{span:12},s.a.createElement(T.a,{type:"flex",justify:"end",align:"middle",style:{marginRight:"40px"}},s.a.createElement(L.a,{style:{color:"white",height:"64px"},type:"link",icon:"user",size:"large",onClick:a.signIn},"\u767b\u5f55"),s.a.createElement(L.a,{type:"primary",icon:"user-add",size:"large",onClick:a.signUp},"\u6ce8\u518c")))},a.signIn=function(){a.props.dispatch(w())},a.signUp=function(){a.props.dispatch(v())},a.state={isEnter:!1,index:0,bannerData:{},banner:null},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return s.a.createElement(ka,{style:{}},s.a.createElement(T.a,{type:"flex",align:"middle"},s.a.createElement(R.a,{xs:0,sm:0,lg:10},s.a.createElement(R.a,{sm:0,lg:10},s.a.createElement(T.a,{type:"flex",justify:"center"},s.a.createElement("img",{alt:"",style:wa.logo,src:a(136)}))),s.a.createElement(R.a,{sm:12,lg:10})),s.a.createElement(R.a,{xs:24,sm:24,lg:14},s.a.createElement(T.a,{type:"flex",justify:"end",align:"middle"},s.a.createElement(R.a,{span:12},s.a.createElement(T.a,{type:"flex",justify:"end",style:{marginRight:"40px"}},s.a.createElement(bt.b,{theme:"dark",mode:"horizontal",defaultSelectedKeys:["2"],style:{lineHeight:"64px"}}))),this.renderUser()))))}}]),t}(q),wa={logo:{height:"64px",width:"192px"}},va=Object(y.b)(function(e){return{admin:e.identityReducer.admin,signInVisible:e.modalReducer.signInVisible,signUpVisible:e.modalReducer.signUpVisible}})(ja),Oa=E.a.Content,Ca=E.a.Sider,xa=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).onCollapse=function(e){a.setState({collapsed:e})},a.createRoutes=function(e,t){return e.map(function(e,a){return s.a.createElement(yt,{role:1,auth:e.auth,path:t+e.path,component:e.component,key:a})})},a.switch=function(){a.props.signInVisible?a.props.dispatch(v()):a.props.dispatch(w())},a.onCancel=function(){a.props.dispatch(O())},a.handleClick=function(e){a.setState({current:e.key}),a.props.history.push({pathname:a.state.items[Number.parseInt(e.key)].path})},a.state={items:[{key:"question",path:"/admin/question",name:"\u95ee\u9898\u7ba1\u7406",icon:"unordered-list"},{key:"answer",path:"/admin/answer",name:"\u56de\u7b54\u7ba1\u7406",icon:"unordered-list"},{key:"user",path:"/admin/user",name:"\u7528\u6237\u7ba1\u7406",icon:"unordered-list"},{key:"docker",path:"/admin/docker",name:"\u5bb9\u5668\u7ba1\u7406",icon:"unordered-list"}],collapsed:!1},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentWillMount",value:function(){var e=this.loadStorage("user"),t=this.loadStorage("isAdmin");e?"true"==t?this.props.dispatch(k(e)):this.props.dispatch(b(e)):this.props.dispatch(j()),this.props.dispatch(C(this.onCancel))}},{key:"render",value:function(){return s.a.createElement(E.a,{style:{minHeight:"100vh"}},s.a.createElement(ht.a,{visibilityHeight:200,style:{zIndex:10}}),s.a.createElement(va,null),s.a.createElement(E.a,null,s.a.createElement(Ca,{collapsible:!0,collapsed:this.state.collapsed,onCollapse:this.onCollapse},s.a.createElement(bt.b,{onClick:this.handleClick,defaultSelectedKeys:["0"],mode:"vertical",theme:"dark"},this.state.items.map(function(e,t){return s.a.createElement(bt.b.Item,{key:t},s.a.createElement(V.a,{type:e.icon}),e.name)}))),s.a.createElement(Oa,{style:{margin:"0 16px"}},this.createRoutes(Aa[1].children,Aa[1].path),s.a.createElement(pa,{switch:this.switch}),s.a.createElement(ga,null))))}}]),t}(q),Sa=Object(y.b)(function(e){return{user:e.identityReducer.user,signInVisible:e.modalReducer.signInVisible,signUpVisible:e.modalReducer.signUpVisible}})(Object(g.e)(xa)),Ia=function(e){return{user:e.identityReducer.user,admin:e.identityReducer.admin}},Na=function(e){return Object(y.b)(Ia)(Object(g.e)(e))},Aa=[{path:"/user",icon:"user",component:ba,children:[{path:"/home",icon:"home",component:Na(n.Home)},{path:"/my",icon:"my",component:Na(n.My)},{path:"/list",icon:"list",component:Na(n.List)},{path:"/search",icon:"search",component:Na(n.Search)},{path:"/detail",icon:"detail",component:Na(n.Detail)},{path:"/person",icon:"person",component:Na(n.Person)},{path:"/user",icon:"user",component:Na(n.User)},{path:"/playground",icon:"playground",component:Na(r)}]},{path:"/admin",icon:"admin",auth:!0,role:1,component:Sa,children:[{path:"/home",icon:"home",component:Na(i.Home)},{path:"/question",icon:"question",component:Na(i.Question)},{path:"/answer",icon:"answer",component:Na(i.Answer)},{path:"/user",icon:"user",component:Na(i.User)},{path:"/docker",icon:"docker",component:Na(i.Docker)}]}],qa=E.a.Content,Ta=function(e){function t(){return Object(u.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentWillMount",value:function(){this.refreshUser()}},{key:"getDefaultRoute",value:function(){return-1===this.props.history.location.pathname.indexOf("/user")&&-1===this.props.history.location.pathname.indexOf("/admin")?s.a.createElement(g.a,{to:"/user/home"}):null}},{key:"createRoutes",value:function(e){return e.map(function(e,t){return s.a.createElement(yt,{role:e.role,auth:e.auth,path:e.path,component:e.component,key:t})})}},{key:"refreshUser",value:function(){var e=this.loadStorage("user"),t=this.loadStorage("isAdmin");e?"true"==t?this.props.dispatch(k(e)):this.props.dispatch(b(e)):this.props.dispatch(j())}},{key:"render",value:function(){return s.a.createElement(E.a,null,s.a.createElement(qa,{style:{backgroundColor:"white"}},s.a.createElement(g.c,{history:this.props.history},this.createRoutes(Aa),this.getDefaultRoute())))}}]),t}(q),Ra=Object(y.b)(function(e){return{user:e.identityReducer.user,admin:e.identityReducer.admin}})(Object(g.e)(Ta)),za=a(97),Da=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGINASUSER":return localStorage.setItem("user",t.user),localStorage.removeItem("isAdmin"),localStorage.removeItem("isSales"),Object(I.a)({},e,{user:t.user,admin:null,sales:null});case"LOGINASADMIN":return localStorage.setItem("user",t.admin),localStorage.setItem("isAdmin",!0),localStorage.removeItem("isSales"),Object(I.a)({},e,{user:null,admin:t.admin,sales:null});case"LOGINASSALES":return localStorage.setItem("user",t.admin),localStorage.removeItem("isAdmin"),localStorage.setItem("isSales",!0),Object(I.a)({},e,{user:null,admin:null,sales:t.sales});case"LOGOUT":return localStorage.clear(),Object(I.a)({},e,{user:null,admin:null,sales:null});default:return e}},La=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SHOWDRAWER":return Object(I.a)({},e,{title:t.title,content:t.content,loading:!0,closing:!1});case"RESETDRAWER":return Object(I.a)({},e,{loading:!1,closing:!1});case"CLOSEDRAWER":return Object(I.a)({},e,{loading:!1,closing:!0});default:return e}},Ba=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SHOWSIGNIN":return Object(I.a)({},e,{signInVisible:!0,signUpVisible:!1});case"SHOWSIGNUP":return Object(I.a)({},e,{signInVisible:!1,signUpVisible:!0});case"CANCELMODAL":return Object(I.a)({},e,{signInVisible:!1,signUpVisible:!1});case"SETONCANCEL":return Object(I.a)({},e,{onCancel:t.onCancel});case"SHOWSIGNINCANCEL":return Object(I.a)({},e,{onCancel:t.onCancel,signInVisible:!0,signUpVisible:!1});default:return e}},Ua=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SETKEYWORD":return Object(I.a)({},e,{keyword:t.keyword});case"RESETKEYWORD":return Object(I.a)({},e,{keyword:null});default:return e}},Va=Object(za.b)({identityReducer:Da,drawerReducer:La,modalReducer:Ba,keywordReducer:Ua}),Wa=Object(za.c)(Va,{identityReducer:{user:null,admin:null,sales:null},drawerReducer:{loading:!1,closing:!1,title:"",content:null},modalReducer:{signInVisible:!1,signUpVisible:!1,onCancel:null},keywordReducer:{keyword:null}}),Ma=function(e){function t(){return Object(u.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return s.a.createElement(y.a,{store:Wa},s.a.createElement(f.a,null,s.a.createElement(g.b,{path:"/",component:Ra})))}}]),t}(o.Component);c.a.render(s.a.createElement(Ma,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[280,1,2]]]);
//# sourceMappingURL=main.68e0fbec.chunk.js.map